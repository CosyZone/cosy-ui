---
alwaysApply: true
---
# ç»„ä»¶å¼€å‘è§„èŒƒ

å¦‚æœè¿™ä¸ªè§„åˆ™è¢«åº”ç”¨ï¼Œåˆ™åœ¨è¾“å‡ºä¸­è¯´æ˜ï¼šğŸ¤” æˆ‘æ³¨æ„åˆ°äº†é¡¹ç›®çš„ç»„ä»¶å¼€å‘è§„èŒƒ

## é€šç”¨ç±»å‹æå–åŸåˆ™

### ä¼˜å…ˆä½¿ç”¨ @common/ ä¸­çš„ç±»å‹

- **æ‰€æœ‰é€šç”¨å±æ€§ç±»å‹å¿…é¡»æå–åˆ° `@common/` ä¸­**ï¼šå¦‚ `padding`ã€`margin`ã€`rounded`ã€`gap`ã€`shadow`ã€`hover`ã€`width` ç­‰
- **ç¦æ­¢åœ¨ç»„ä»¶ä¸­é‡å¤å®šä¹‰é€šç”¨ç±»å‹**ï¼šå¦‚æœ `@common/` ä¸­å·²æœ‰ç›¸å…³ç±»å‹ï¼Œå¿…é¡»ä½¿ç”¨ common ä¸­çš„å®šä¹‰
- **å¢å¼ºç°æœ‰ common ç±»å‹**ï¼šå¦‚æœ common ä¸­ç±»å‹ä¸å®Œæ•´ï¼Œåº”è¯¥å¢å¼ºè€Œä¸æ˜¯é‡æ–°å®šä¹‰

### ç±»å‹å®šä¹‰è§„èŒƒ

```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ common ä¸­çš„ç±»å‹
import type { PaddingSize, MarginSize, RoundedSize } from '@coffic/cosy-ui/common';

interface Props {
  padding?: PaddingSize;
  margin?: MarginSize;
  rounded?: RoundedSize;
}

// âŒ é”™è¯¯ï¼šé‡å¤å®šä¹‰é€šç”¨ç±»å‹
interface Props {
  padding?: 'none' | 'sm' | 'md' | 'lg';
  margin?: 'none' | 'xs' | 'sm' | 'md';
}
```

### ç±»åæ˜ å°„è§„èŒƒ

- **ä½¿ç”¨ common ä¸­å¯¼å‡ºçš„ç±»åæ˜ å°„**ï¼šé¿å…åœ¨ç»„ä»¶ä¸­é‡å¤å®šä¹‰ç±»åæ˜ å°„
- **ç›´æ¥ä½¿ç”¨æ˜ å°„å¯¹è±¡**ï¼š`const className = paddingClasses[padding] || '';`

```typescript
// âœ… æ­£ç¡®ï¼šä½¿ç”¨ common ä¸­çš„ç±»åæ˜ å°„
import { paddingClasses, marginClasses } from '@coffic/cosy-ui/common';

const paddingClass = paddingClasses[padding] || '';
const marginClass = marginClasses[margin] || '';

// âŒ é”™è¯¯ï¼šé‡å¤å®šä¹‰ç±»åæ˜ å°„
const paddingClassMap = {
  none: '',
  sm: 'cosy:p-2',
  // ...
} as const;
```

## ClassBuilder ä½¿ç”¨è§„èŒƒ

### ä¼˜å…ˆä½¿ç”¨ cn() classBuilder

- **æ¨èä½¿ç”¨ `cn()` æ„å»ºç±»å**ï¼šç»Ÿä¸€çš„ç±»åæ„å»ºæ–¹å¼ï¼Œä»£ç æ›´æ¸…æ™°
- **é“¾å¼è°ƒç”¨**ï¼šæ”¯æŒé“¾å¼è°ƒç”¨ï¼Œä»£ç æ›´ä¼˜é›…
- **ç±»å‹å®‰å…¨**ï¼šæä¾›å®Œæ•´çš„ TypeScript ç±»å‹æ”¯æŒ

```typescript
// âœ… æ¨èï¼šä½¿ç”¨ cn() classBuilder
import { cn } from '../../src/class';

const buttonClass = cn()
    .add('cosy:btn')
    .flex()
    .items('center')
    .gap(2)
    .add(className || '')
    .build();
```

```typescript
// âŒ ä¸æ¨èï¼šæ‰‹åŠ¨æ‹¼æ¥ç±»å
const buttonClass = ['cosy:btn', 'cosy:flex', 'cosy:items-center', 'cosy:gap-2', className]
    .filter(Boolean)
    .join(' ');
```

### ä½•æ—¶ä¸ä½¿ç”¨ cn()

- ç»„ä»¶éå¸¸ç®€å•ï¼Œåªæœ‰ä¸€ä¸ªå›ºå®šçš„ç±»å
- ç»„ä»¶å®Œå…¨ä¾èµ–å¤–éƒ¨ä¼ å…¥çš„ç±»å
- æ€§èƒ½æå…¶æ•æ„Ÿçš„åœºæ™¯ï¼ˆè™½ç„¶ cn() å·²ç»å¾ˆå¿«äº†ï¼‰

## ç»„ä»¶é‡æ„åŸåˆ™

### å•ä¸€èŒè´£åŸåˆ™

- **æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªæ ¸å¿ƒåŠŸèƒ½**ï¼šé¿å…ç»„ä»¶æ‰¿æ‹…è¿‡å¤šèŒè´£
- **æ‹†åˆ†å¤æ‚ç»„ä»¶**ï¼šå°†å¤šåŠŸèƒ½ç»„ä»¶æ‹†åˆ†ä¸ºå¤šä¸ªå•ä¸€åŠŸèƒ½ç»„ä»¶
- **åŸºäºç°æœ‰ç»„ä»¶æ„å»º**ï¼šä¼˜å…ˆä½¿ç”¨ç°æœ‰ç»„ä»¶ï¼ˆå¦‚ Containerï¼‰ä½œä¸ºåŸºç¡€

## ä»£ç è´¨é‡è¦æ±‚

### ç±»å‹å®‰å…¨

- **ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼**ï¼šç¡®ä¿ç±»å‹å®‰å…¨
- **é¿å… any ç±»å‹**ï¼šæ˜ç¡®æŒ‡å®šæ‰€æœ‰ç±»å‹
- **ä½¿ç”¨è”åˆç±»å‹**ï¼šä¸ºå±æ€§æä¾›æ˜ç¡®çš„é€‰é¡¹

### ä»£ç å¤ç”¨

- **æå–é€šç”¨é€»è¾‘**ï¼šå°†é‡å¤çš„é€»è¾‘æå–åˆ°å·¥å…·å‡½æ•°æˆ– common æ¨¡å—
- **ä½¿ç”¨ç»„åˆæ¨¡å¼**ï¼šé€šè¿‡ç»„åˆç°æœ‰ç»„ä»¶æ¥æ„å»ºæ–°åŠŸèƒ½
- **é¿å…é‡å¤ä»£ç **ï¼šå®šæœŸå®¡æŸ¥å’Œé‡æ„é‡å¤ä»£ç 

## æ–‡ä»¶ç»„ç»‡è§„èŒƒ

### ç›®å½•ç»“æ„

```tree
src-astro/
â”œâ”€â”€ component-name/
â”‚   â”œâ”€â”€ ComponentName.astro    # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ types.ts              # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts              # å¯¼å‡ºæ–‡ä»¶
```

### å¯¼å…¥é¡ºåº

1. ç±»å‹å¯¼å…¥ï¼ˆä» common å¼€å§‹ï¼‰
2. ç»„ä»¶å¯¼å…¥
3. å·¥å…·å‡½æ•°å¯¼å…¥ï¼ˆå¦‚ ClassBuilderï¼‰

```typescript
// âœ… æ­£ç¡®çš„å¯¼å…¥é¡ºåº
import type { ImageItem } from './types';
import type { PaddingSize, MarginSize } from '@coffic/cosy-ui/common';
import { paddingClasses, marginClasses } from '@coffic/cosy-ui/common';
import Container from '../container/Container.astro';
import { cn } from '../../src/class';  // å¦‚éœ€ä½¿ç”¨ classBuilder
```

## æ ·å¼å¯¼å…¥è§„èŒƒ

### ç»Ÿä¸€æ ·å¼ç®¡ç†

- **æ ·å¼å·²åœ¨å…¥å£æ–‡ä»¶ç»Ÿä¸€å¯¼å…¥**ï¼šæ‰€æœ‰æ ·å¼åœ¨ `index-astro.ts` å’Œ `index-vue.ts` ä¸­é€šè¿‡ `import "./style.ts"` ç»Ÿä¸€åŠ è½½
- **ç»„ä»¶ä¸éœ€è¦å•ç‹¬å¯¼å…¥æ ·å¼**ï¼šæ— è®ºæ˜¯å¦ä½¿ç”¨ `cn()` classBuilderï¼Œç»„ä»¶éƒ½ä¸éœ€è¦å¯¼å…¥æ ·å¼æ–‡ä»¶
- **è‡ªåŠ¨æ ·å¼åŠ è½½**ï¼šç”¨æˆ·å¯¼å…¥ä»»ä½•ç»„ä»¶æ—¶ï¼Œæ ·å¼ä¼šè‡ªåŠ¨åŠ è½½

```typescript
// âœ… æ­£ç¡®ï¼šç»„ä»¶ä¸å¯¼å…¥æ ·å¼
import type { Props } from './types';
import { cn } from '../../src/class';

// ç›´æ¥ä½¿ç”¨ï¼Œæ ·å¼å·²åœ¨å…¥å£æ–‡ä»¶åŠ è½½
const buttonClass = cn()
    .add('cosy:btn')
    .build();
```

```typescript
// âŒ é”™è¯¯ï¼šä¸è¦åœ¨ç»„ä»¶ä¸­å¯¼å…¥æ ·å¼
import '../../style.ts';  // âŒ ç¦æ­¢ï¼æ ·å¼å·²åœ¨å…¥å£ç»Ÿä¸€å¯¼å…¥
```

### å·¥ä½œåŸç†

```typescript
// index-astro.tsï¼ˆå…¥å£æ–‡ä»¶ï¼‰
import "./style.ts";  // â† æ ·å¼åœ¨è¿™é‡Œç»Ÿä¸€åŠ è½½
export * from "./src-astro/button";
export * from "./src-astro/card";
// ...

// ç”¨æˆ·ä»£ç 
import { Button } from '@coffic/cosy-ui';  // âœ… æ ·å¼è‡ªåŠ¨åŠ è½½
```

## æµ‹è¯•å’ŒéªŒè¯

### æ„å»ºéªŒè¯

- **æ£€æŸ¥ç±»å‹é”™è¯¯**ï¼šä½¿ç”¨ TypeScript æ£€æŸ¥ç±»å‹å®‰å…¨
- **éªŒè¯ç¤ºä¾‹å±•ç¤º**ï¼šç¡®ä¿æ‰€æœ‰ç¤ºä¾‹éƒ½èƒ½æ­£å¸¸æ˜¾ç¤º

### ä»£ç å®¡æŸ¥æ¸…å•

- [ ] æ˜¯å¦ä½¿ç”¨äº† common ä¸­çš„ç±»å‹å®šä¹‰ï¼Ÿ
- [ ] æ˜¯å¦é¿å…äº†é‡å¤çš„ç±»åæ˜ å°„ï¼Ÿ
- [ ] ç¤ºä¾‹æ˜¯å¦ç¬¦åˆå¤šæ ‡ç­¾è§„èŒƒï¼Ÿ
- [ ] ç»„ä»¶æ˜¯å¦éµå¾ªå•ä¸€èŒè´£åŸåˆ™ï¼Ÿ
- [ ] ç±»å‹å®šä¹‰æ˜¯å¦å®Œæ•´å’Œå‡†ç¡®ï¼Ÿ
