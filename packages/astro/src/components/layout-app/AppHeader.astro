---
/**
 * AppHeader组件
 *
 * 专门处理应用布局中的头部导航栏
 *
 * @param {Object} headerConfig - 头部配置
 * @param {boolean} [debug=false] - 是否启用调试模式
 * @param {boolean} [showSidebar=true] - 是否显示侧边栏切换按钮
 * @param {boolean} [showSearch=true] - 是否显示搜索按钮
 * @param {Object} rest - 其他属性
 *
 * @slot navbar-start - 导航栏开始位置的内容
 * @slot navbar-center - 导航栏中间位置的内容
 * @slot navbar-end - 导航栏结束位置的内容
 * @slot modal-search - 搜索模态框内容，当提供此slot时会显示搜索按钮
 *
 * @example
 * ```astro
 * ---
 * import AppHeader from './AppHeader.astro';
 * import { Button } from '@coffic/cosy-ui';
 * ---
 *
 * <AppHeader>
 *   <div slot="navbar-start">
 *     <h1 class="cosy:text-xl cosy:font-bold">我的应用</h1>
 *   </div>
 *
 *   <div slot="navbar-center">
 *     <nav class="cosy:flex cosy:gap-4">
 *       <a href="/docs" class="cosy:link cosy:link-hover">文档</a>
 *       <a href="/components" class="cosy:link cosy:link-hover">组件</a>
 *     </nav>
 *   </div>
 *
 *   <div slot="navbar-end">
 *     <Button variant="primary">登录</Button>
 *   </div>
 * </AppHeader>
 * ```
 */

import "@coffic/cosy-ui-base/style";
import { Header, Button, MenuIcon, SearchIcon } from "../../../index.ts";

interface Props {
	headerConfig?: any;
	debug?: boolean;
	showSidebar?: boolean;
	showSearch?: boolean;
	[key: string]: any;
}

const {
	headerConfig = {},
	debug = false,
	showSidebar = true,
	showSearch = true,
	...rest
}: Props = Astro.props;
---

<Header {...headerConfig} debug={debug}>
    <div slot="navbar-start">
        {/* 小屏幕显示侧边栏切换按钮 */}
        {
            showSidebar && (
                <Button
                    class="cosy:lg:hidden"
                    data-modal-target="mobile-sidebar"
                    variant="ghost"
                    size="sm">
                    <MenuIcon size="20px" />
                </Button>
            )
        }
        <slot name="navbar-start" />
    </div>

    <div slot="navbar-center">
        <slot name="navbar-center" />
    </div>

    <div slot="navbar-end">
        {
            showSearch && (
                <Button
                    data-modal-target="modalSearch"
                    variant="ghost"
                    size="sm">
                    <SearchIcon size="24px" />
                </Button>
            )
        }
        <slot name="navbar-end" />
    </div>
</Header>
