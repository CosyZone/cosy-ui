# é™„ä»¶ 02.1ï¼šæœåŠ¡å®¹å™¨è¯¦è§£

> æœ¬æ–‡æ¡£æ˜¯æ­¥éª¤ 02 çš„è¡¥å……ææ–™ï¼Œæ·±å…¥è®²è§£æœåŠ¡å®¹å™¨ï¼ˆService Containerï¼‰çš„æ ¸å¿ƒæ¦‚å¿µå’Œåœ¨ Cosy Framework ä¸­çš„é‡è¦ä½œç”¨ã€‚
> 
> **æ–‡ä»¶å‘½åè§„åˆ™**: 
> - ä¸»æ­¥éª¤ï¼š`01-xxx.md`ã€`02-xxx.md`ã€...
> - é™„ä»¶æ–‡æ¡£ï¼š`01.1-xxx.md`ã€`01.2-xxx.md`ã€`02.1-xxx.md`ã€...

## ğŸ“š ç›®å½•
- [ä»€ä¹ˆæ˜¯æœåŠ¡å®¹å™¨](#ä»€ä¹ˆæ˜¯æœåŠ¡å®¹å™¨)
- [ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥](#ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥)
- [æ ¸å¿ƒæ¦‚å¿µè¯¦è§£](#æ ¸å¿ƒæ¦‚å¿µè¯¦è§£)
- [è£…é¥°å™¨ç³»ç»Ÿ](#è£…é¥°å™¨ç³»ç»Ÿ)
- [ç”Ÿå‘½å‘¨æœŸç®¡ç†](#ç”Ÿå‘½å‘¨æœŸç®¡ç†)
- [æœåŠ¡æä¾›è€…æ¨¡å¼](#æœåŠ¡æä¾›è€…æ¨¡å¼)
- [å®é™…ä»£ç æ¼”ç¤º](#å®é™…ä»£ç æ¼”ç¤º)
- [å¸¸è§é—®é¢˜è§£ç­”](#å¸¸è§é—®é¢˜è§£ç­”)

## ğŸ¯ å¯è¿è¡Œæ¼”ç¤º

æˆ‘ä»¬åœ¨ `examples/` ç›®å½•ä¸­æä¾›äº†ä¸‰ä¸ªæ¼”ç¤ºæ–‡ä»¶ï¼š

1. **[service-container-tutorial.md](../examples/service-container-tutorial.md)** - ç†è®ºåŸºç¡€å’Œæ¦‚å¿µè®²è§£
2. **[service-container-simple.ts](../examples/service-container-simple.ts)** - ç®€åŒ–ç‰ˆæ¼”ç¤ºï¼Œä¸“æ³¨äºæ ¸å¿ƒæ¦‚å¿µ
3. **[service-container-demo.ts](../examples/service-container-demo.ts)** - å®Œæ•´ç‰ˆæ¼”ç¤ºï¼ŒåŒ…å«é«˜çº§ç‰¹æ€§

è¿è¡Œæ¼”ç¤ºï¼š
```bash
cd packages/cosy-framework-docs
npx tsx examples/service-container-simple.ts
```

## ä»€ä¹ˆæ˜¯æœåŠ¡å®¹å™¨

æœåŠ¡å®¹å™¨ï¼ˆService Containerï¼‰æ˜¯ä¸€ä¸ª **ä¾èµ–æ³¨å…¥å®¹å™¨**ï¼Œå®ƒæ˜¯ç°ä»£æ¡†æ¶æ¶æ„çš„æ ¸å¿ƒç»„ä»¶ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ™ºèƒ½çš„"å¯¹è±¡å·¥å‚"ï¼Œè´Ÿè´£ï¼š

### æ ¸å¿ƒèŒè´£

```typescript
// ä¼ ç»Ÿæ–¹å¼ï¼šæ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†ä¾èµ–
class UserController {
  private userService: UserService;
  private logger: Logger;

  constructor() {
    // ç¡¬ç¼–ç ä¾èµ–ï¼Œéš¾ä»¥æµ‹è¯•å’Œç»´æŠ¤
    this.logger = new ConsoleLogger();
    this.userService = new UserService(
      new DatabaseRepository(),
      this.logger
    );
  }
}

// æœåŠ¡å®¹å™¨æ–¹å¼ï¼šè‡ªåŠ¨ç®¡ç†ä¾èµ–
@Injectable
class UserController {
  constructor(
    @Inject('UserService') private userService: UserService,
    @Inject('Logger') private logger: Logger
  ) {
    // ä¾èµ–ç”±å®¹å™¨è‡ªåŠ¨æ³¨å…¥ï¼Œæ¸…æ™°ç®€æ´
  }
}
```

## ä¸ºä»€ä¹ˆéœ€è¦ä¾èµ–æ³¨å…¥

### 1. è§£å†³ç´§è€¦åˆé—®é¢˜

**é—®é¢˜**ï¼šä¼ ç»Ÿç¼–ç¨‹ä¸­ï¼Œå¯¹è±¡ç›´æ¥åˆ›å»ºå…¶ä¾èµ–ï¼Œå¯¼è‡´ç´§è€¦åˆï¼š

```typescript
// âŒ ç´§è€¦åˆçš„ä»£ç 
class EmailService {
  private transport = new SMTPTransport(); // ç¡¬ç¼–ç ä¼ è¾“æ–¹å¼

  send(email: Email) {
    return this.transport.send(email);
  }
}

class UserService {
  private emailService = new EmailService(); // ç¡¬ç¼–ç é‚®ä»¶æœåŠ¡

  async register(userData: UserData) {
    const user = await this.createUser(userData);
    await this.emailService.send(welcomeEmail);
    return user;
  }
}
```

**è§£å†³æ–¹æ¡ˆ**ï¼šä¾èµ–æ³¨å…¥å®ç°æ¾è€¦åˆï¼š

```typescript
// âœ… æ¾è€¦åˆçš„ä»£ç 
interface EmailTransport {
  send(email: Email): Promise<void>;
}

@Injectable
class EmailService {
  constructor(
    @Inject('EmailTransport') private transport: EmailTransport
  ) {}

  send(email: Email) {
    return this.transport.send(email);
  }
}

@Injectable
class UserService {
  constructor(
    @Inject('EmailService') private emailService: EmailService
  ) {}

  async register(userData: UserData) {
    const user = await this.createUser(userData);
    await this.emailService.send(welcomeEmail);
    return user;
  }
}
```

### 2. æå‡å¯æµ‹è¯•æ€§

```typescript
// æµ‹è¯•å˜å¾—ç®€å•
describe('UserService', () => {
  it('should send welcome email', async () => {
    const mockEmailService = {
      send: jest.fn().mockResolvedValue(undefined)
    };

    const container = new ServiceContainer();
    container.instance('EmailService', mockEmailService);
    container.bind('UserService', UserService);

    const userService = container.resolve<UserService>('UserService');
    await userService.register(userData);

    expect(mockEmailService.send).toHaveBeenCalledWith(welcomeEmail);
  });
});
```

## æ ¸å¿ƒæ¦‚å¿µè¯¦è§£

### 1. æœåŠ¡ç»‘å®šï¼ˆService Bindingï¼‰

æœåŠ¡ç»‘å®šæ˜¯å°†æŠ½è±¡æ ‡è¯†ç¬¦ä¸å…·ä½“å®ç°å…³è”çš„è¿‡ç¨‹ï¼š

```typescript
// åŸºç¡€ç»‘å®š
container.bind('Logger', ConsoleLogger);

// å•ä¾‹ç»‘å®š
container.singleton('Database', DatabaseConnection);

// å®ä¾‹ç»‘å®š
container.instance('Config', configuration);

// æ¥å£ç»‘å®š
container.bind<IEmailService>('EmailService', SMTPEmailService);
```

### 2. æœåŠ¡è§£æï¼ˆService Resolutionï¼‰

å®¹å™¨æ ¹æ®æ ‡è¯†ç¬¦è¿”å›å¯¹åº”çš„æœåŠ¡å®ä¾‹ï¼š

```typescript
// è§£ææœåŠ¡
const logger = container.resolve<Logger>('Logger');

// è‡ªåŠ¨ä¾èµ–æ³¨å…¥
const userService = container.resolve<UserService>('UserService');
// å®¹å™¨ä¼šè‡ªåŠ¨è§£æ UserService çš„æ‰€æœ‰ä¾èµ–
```

### 3. ä¾èµ–å›¾ï¼ˆDependency Graphï¼‰

å®¹å™¨ä¼šè‡ªåŠ¨æ„å»ºå’Œè§£æå¤æ‚çš„ä¾èµ–å…³ç³»ï¼š

```typescript
// å¤æ‚çš„ä¾èµ–é“¾
@Injectable
class UserController {
  constructor(
    @Inject('UserService') private userService: UserService,
    @Inject('Logger') private logger: Logger
  ) {}
}

@Injectable
class UserService {
  constructor(
    @Inject('UserRepository') private userRepo: UserRepository,
    @Inject('EmailService') private emailService: EmailService
  ) {}
}

@Injectable
class UserRepository {
  constructor(
    @Inject('Database') private db: Database
  ) {}
}

// å®¹å™¨ä¼šè‡ªåŠ¨è§£ææ•´ä¸ªä¾èµ–æ ‘ï¼š
// UserController -> UserService -> UserRepository -> Database
//                              -> EmailService
//                -> Logger
```

## è£…é¥°å™¨ç³»ç»Ÿ

### 1. @Injectable è£…é¥°å™¨

æ ‡è®°ç±»ä¸ºå¯æ³¨å…¥çš„æœåŠ¡ï¼š

```typescript
@Injectable
class EmailService {
  send(email: Email) {
    // å‘é€é‚®ä»¶é€»è¾‘
  }
}

// ç­‰ä»·äºæ‰‹åŠ¨æ³¨å†Œ
Reflect.defineMetadata('injectable', true, EmailService);
```

### 2. @Inject è£…é¥°å™¨

æ˜¾å¼æŒ‡å®šè¦æ³¨å…¥çš„æœåŠ¡æ ‡è¯†ç¬¦ï¼š

```typescript
@Injectable
class UserService {
  constructor(
    @Inject('UserRepository') private userRepo: IUserRepository,
    @Inject('CACHE_TTL') private cacheTtl: number,
    @Inject('Logger') private logger: ILogger
  ) {}
}

// æ”¯æŒå¤šç§ç±»å‹çš„æ³¨å…¥
container.bind('UserRepository', SqlUserRepository);
container.instance('CACHE_TTL', 3600);
container.bind('Logger', WinstonLogger);
```

### 3. @AutoInject è£…é¥°å™¨

ç”¨äºå±æ€§æ³¨å…¥ï¼ˆé«˜çº§ç‰¹æ€§ï¼‰ï¼š

```typescript
class UserController {
  @AutoInject('UserService')
  private userService: UserService;

  @AutoInject('Logger')
  private logger: Logger;

  async getUsers() {
    this.logger.log('Getting users');
    return await this.userService.findAll();
  }
}
```

## ç”Ÿå‘½å‘¨æœŸç®¡ç†

### 1. ç¬æ€ï¼ˆTransientï¼‰

æ¯æ¬¡è§£æéƒ½åˆ›å»ºæ–°å®ä¾‹ï¼š

```typescript
container.bind('Logger', FileLogger); // é»˜è®¤ç¬æ€

const logger1 = container.resolve('Logger');
const logger2 = container.resolve('Logger');
console.log(logger1 === logger2); // false
```

### 2. å•ä¾‹ï¼ˆSingletonï¼‰

å…¨å±€åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼š

```typescript
container.singleton('Database', DatabaseConnection);

const db1 = container.resolve('Database');
const db2 = container.resolve('Database');
console.log(db1 === db2); // true
```

### 3. ä½œç”¨åŸŸï¼ˆScopedï¼‰

åœ¨ç‰¹å®šä½œç”¨åŸŸå†…æ˜¯å•ä¾‹ï¼ˆæœªæ¥ç‰¹æ€§ï¼‰ï¼š

```typescript
// åœ¨è¯·æ±‚ä½œç”¨åŸŸå†…æ˜¯å•ä¾‹
container.scoped('UserContext', RequestUserContext);
```

## æœåŠ¡æä¾›è€…æ¨¡å¼

æœåŠ¡æä¾›è€…ç”¨äºç»„ç»‡å’Œå°è£…ç›¸å…³æœåŠ¡çš„æ³¨å†Œé€»è¾‘ï¼š

### 1. åŸºç¡€æœåŠ¡æä¾›è€…

```typescript
class DatabaseServiceProvider extends BaseServiceProvider {
  register(container: Container) {
    // æ³¨å†Œæ•°æ®åº“ç›¸å…³æœåŠ¡
    container.singleton('Database', DatabaseConnection);
    container.bind('UserRepository', SqlUserRepository);
    container.bind('PostRepository', SqlPostRepository);
  }

  boot(container: Container) {
    // å¯åŠ¨æ—¶åˆå§‹åŒ–
    const db = container.resolve('Database');
    db.connect();
  }
}
```

### 2. æ¡ä»¶æ³¨å†Œ

```typescript
class LoggingServiceProvider extends BaseServiceProvider {
  register(container: Container) {
    if (process.env.NODE_ENV === 'production') {
      container.bind('Logger', ProductionLogger);
    } else {
      container.bind('Logger', DevelopmentLogger);
    }
  }
}
```

## å®é™…ä»£ç æ¼”ç¤º

è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®Œæ•´çš„ç”µå•†ç³»ç»Ÿç¤ºä¾‹ï¼š

```typescript
import 'reflect-metadata';
import { ServiceContainer, Injectable, Inject } from '@coffic/cosy-framework';

// 1. å®šä¹‰æ¥å£
interface ILogger {
  log(message: string): void;
}

interface IPaymentGateway {
  charge(amount: number, cardToken: string): Promise<string>;
}

interface IEmailService {
  send(to: string, subject: string, body: string): Promise<void>;
}

interface IOrderRepository {
  save(order: Order): Promise<Order>;
  findById(id: string): Promise<Order | null>;
}

// 2. å®ç°æœåŠ¡
@Injectable
class ConsoleLogger implements ILogger {
  log(message: string) {
    console.log(`[${new Date().toISOString()}] ${message}`);
  }
}

@Injectable
class StripePaymentGateway implements IPaymentGateway {
  async charge(amount: number, cardToken: string) {
    // æ¨¡æ‹Ÿ Stripe æ”¯ä»˜
    console.log(`Charging $${amount} with token ${cardToken}`);
    return `charge_${Math.random().toString(36).substr(2, 9)}`;
  }
}

@Injectable
class SMTPEmailService implements IEmailService {
  constructor(
    @Inject('Logger') private logger: ILogger
  ) {}

  async send(to: string, subject: string, body: string) {
    this.logger.log(`Sending email to ${to}: ${subject}`);
    // æ¨¡æ‹Ÿå‘é€é‚®ä»¶
    await new Promise(resolve => setTimeout(resolve, 100));
  }
}

@Injectable
class SqlOrderRepository implements IOrderRepository {
  constructor(
    @Inject('Database') private db: any,
    @Inject('Logger') private logger: ILogger
  ) {}

  async save(order: Order) {
    this.logger.log(`Saving order ${order.id}`);
    // æ¨¡æ‹Ÿä¿å­˜åˆ°æ•°æ®åº“
    return order;
  }

  async findById(id: string) {
    this.logger.log(`Finding order ${id}`);
    // æ¨¡æ‹Ÿä»æ•°æ®åº“æŸ¥è¯¢
    return new Order(id, 99.99, 'pending');
  }
}

// 3. ä¸šåŠ¡é€»è¾‘å±‚
class Order {
  constructor(
    public id: string,
    public amount: number,
    public status: string
  ) {}
}

@Injectable
class OrderService {
  constructor(
    @Inject('OrderRepository') private orderRepo: IOrderRepository,
    @Inject('PaymentGateway') private paymentGateway: IPaymentGateway,
    @Inject('EmailService') private emailService: IEmailService,
    @Inject('Logger') private logger: ILogger
  ) {}

  async createOrder(amount: number, cardToken: string, customerEmail: string) {
    const orderId = `order_${Date.now()}`;
    this.logger.log(`Creating order ${orderId} for $${amount}`);

    try {
      // 1. åˆ›å»ºè®¢å•
      const order = new Order(orderId, amount, 'pending');
      await this.orderRepo.save(order);

      // 2. å¤„ç†æ”¯ä»˜
      const chargeId = await this.paymentGateway.charge(amount, cardToken);
      order.status = 'paid';
      await this.orderRepo.save(order);

      // 3. å‘é€ç¡®è®¤é‚®ä»¶
      await this.emailService.send(
        customerEmail,
        'Order Confirmation',
        `Your order ${orderId} has been confirmed. Charge ID: ${chargeId}`
      );

      this.logger.log(`Order ${orderId} completed successfully`);
      return order;

    } catch (error) {
      this.logger.log(`Order ${orderId} failed: ${error.message}`);
      throw error;
    }
  }
}

// 4. æ§åˆ¶å™¨å±‚
@Injectable
class OrderController {
  constructor(
    @Inject('OrderService') private orderService: OrderService,
    @Inject('Logger') private logger: ILogger
  ) {}

  async createOrder(orderData: any) {
    this.logger.log('Processing new order request');
    
    const { amount, cardToken, customerEmail } = orderData;
    const order = await this.orderService.createOrder(amount, cardToken, customerEmail);
    
    return {
      success: true,
      orderId: order.id,
      status: order.status
    };
  }
}

// 5. å®¹å™¨é…ç½®å’Œä½¿ç”¨
function setupContainer() {
  const container = new ServiceContainer();

  // æ³¨å†ŒåŸºç¡€æœåŠ¡
  container.singleton('Logger', ConsoleLogger);
  container.singleton('Database', class MockDatabase {});

  // æ³¨å†Œä¸šåŠ¡æœåŠ¡
  container.bind('PaymentGateway', StripePaymentGateway);
  container.bind('EmailService', SMTPEmailService);
  container.bind('OrderRepository', SqlOrderRepository);
  container.bind('OrderService', OrderService);
  container.bind('OrderController', OrderController);

  return container;
}

// 6. ä½¿ç”¨ç¤ºä¾‹
async function demonstrateEcommerce() {
  const container = setupContainer();
  
  const orderController = container.resolve<OrderController>('OrderController');
  
  const result = await orderController.createOrder({
    amount: 99.99,
    cardToken: 'tok_test_card',
    customerEmail: 'customer@example.com'
  });
  
  console.log('Order result:', result);
}

// è¿è¡Œæ¼”ç¤º
demonstrateEcommerce().catch(console.error);
```

## é«˜çº§ç‰¹æ€§

### 1. å·¥å‚æ¨¡å¼

```typescript
// æ³¨å†Œå·¥å‚å‡½æ•°
container.bind('ApiClient', class {
  constructor() {
    const config = container.resolve('Config');
    return new HttpClient(config.apiUrl, config.timeout);
  }
});
```

### 2. è£…é¥°å™¨ç»„åˆ

```typescript
@Injectable
@Singleton  // è‡ªå®šä¹‰è£…é¥°å™¨
class CacheService {
  // ...
}
```

### 3. ä¸­é—´ä»¶æ”¯æŒ

```typescript
container.addMiddleware('Logger', (next, target, propertyKey, args) => {
  console.log(`Calling ${target.constructor.name}.${propertyKey}`);
  return next();
});
```

## å¸¸è§é—®é¢˜è§£ç­”

### Q1: å¾ªç¯ä¾èµ–å¦‚ä½•å¤„ç†ï¼Ÿ

**A:** æ¡†æ¶ä¼šæ£€æµ‹å¾ªç¯ä¾èµ–å¹¶æŠ›å‡ºé”™è¯¯ï¼š
```typescript
// âŒ å¾ªç¯ä¾èµ–
class ServiceA {
  constructor(@Inject('ServiceB') private b: ServiceB) {}
}

class ServiceB {
  constructor(@Inject('ServiceA') private a: ServiceA) {}
}

// âœ… è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨äº‹ä»¶æˆ–é‡æ–°è®¾è®¡æ¶æ„
```

### Q2: å¦‚ä½•å¤„ç†å¯é€‰ä¾èµ–ï¼Ÿ

**A:** ä½¿ç”¨æ¡ä»¶æ³¨å…¥ï¼š
```typescript
@Injectable
class UserService {
  constructor(
    @Inject('Logger') private logger: ILogger,
    @Optional() @Inject('Cache') private cache?: ICache
  ) {}
}
```

### Q3: æ€§èƒ½å¦‚ä½•ï¼Ÿ

**A:** 
- **é¦–æ¬¡è§£æ**ï¼šéœ€è¦æ„å»ºä¾èµ–å›¾ï¼Œç¨æ…¢
- **åç»­è§£æ**ï¼šå•ä¾‹æœåŠ¡ç›´æ¥è¿”å›ç¼“å­˜ï¼Œæå¿«
- **å†…å­˜å ç”¨**ï¼šä¸»è¦æ˜¯å…ƒæ•°æ®å­˜å‚¨ï¼Œé€šå¸¸å¾ˆå°

### Q4: å¦‚ä½•è°ƒè¯•ä¾èµ–æ³¨å…¥é—®é¢˜ï¼Ÿ

**A:** æ¡†æ¶æä¾›è°ƒè¯•å·¥å…·ï¼š
```typescript
// æŸ¥çœ‹å®¹å™¨çŠ¶æ€
console.log(container.debug());

// æŸ¥çœ‹ä¾èµ–å›¾
console.log(container.getDependencyGraph('UserService'));
```

### Q5: æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–å—ï¼Ÿ

**A:** æ”¯æŒï¼Œé€šè¿‡æœåŠ¡æä¾›è€…çš„ boot æ–¹æ³•ï¼š
```typescript
class AsyncServiceProvider extends BaseServiceProvider {
  async boot(container: Container) {
    const db = container.resolve('Database');
    await db.connect();
  }
}
```

## ä¸å…¶ä»–æ¡†æ¶çš„å¯¹æ¯”

| ç‰¹æ€§ | Cosy Framework | NestJS | Angular | Laravel |
|------|----------------|--------|---------|---------|
| è¯­è¨€ | TypeScript | TypeScript | TypeScript | PHP |
| è£…é¥°å™¨ | âœ… | âœ… | âœ… | âœ… (Attributes) |
| è‡ªåŠ¨æ³¨å…¥ | âœ… | âœ… | âœ… | âœ… |
| ç”Ÿå‘½å‘¨æœŸ | âœ… | âœ… | âœ… | âœ… |
| å­¦ä¹ æ›²çº¿ | ä½ | ä¸­ | é«˜ | ä½ |

## æœ€ä½³å®è·µ

### 1. æœåŠ¡è®¾è®¡åŸåˆ™

```typescript
// âœ… å•ä¸€èŒè´£åŸåˆ™
@Injectable
class EmailService {
  send(email: Email) { /* åªè´Ÿè´£å‘é€é‚®ä»¶ */ }
}

@Injectable
class EmailTemplateService {
  render(template: string, data: any) { /* åªè´Ÿè´£æ¸²æŸ“æ¨¡æ¿ */ }
}

// âŒ è¿åå•ä¸€èŒè´£
@Injectable
class EmailService {
  send(email: Email) { /* å‘é€é‚®ä»¶ */ }
  renderTemplate(template: string, data: any) { /* æ¸²æŸ“æ¨¡æ¿ */ }
  validateEmail(email: string) { /* éªŒè¯é‚®ä»¶ */ }
}
```

### 2. æ¥å£ä¼˜å…ˆ

```typescript
// âœ… å®šä¹‰æ¥å£
interface IUserRepository {
  findById(id: string): Promise<User | null>;
}

@Injectable
class SqlUserRepository implements IUserRepository {
  // å®ç°...
}

// ç»‘å®šåˆ°æ¥å£
container.bind<IUserRepository>('UserRepository', SqlUserRepository);
```

### 3. åˆç†ä½¿ç”¨å•ä¾‹

```typescript
// âœ… é€‚åˆå•ä¾‹ï¼šæ— çŠ¶æ€ã€èµ„æºå¯†é›†
container.singleton('Database', DatabaseConnection);
container.singleton('Cache', RedisCache);
container.singleton('Logger', Logger);

// âŒ ä¸é€‚åˆå•ä¾‹ï¼šæœ‰çŠ¶æ€ã€ä¸šåŠ¡é€»è¾‘
container.bind('UserService', UserService);  // ç¬æ€
container.bind('OrderProcessor', OrderProcessor);  // ç¬æ€
```

## æ€»ç»“

æœåŠ¡å®¹å™¨æ˜¯ç°ä»£ TypeScript æ¡†æ¶çš„æ ¸å¿ƒï¼Œå®ƒé€šè¿‡ä¾èµ–æ³¨å…¥æä¾›äº†ï¼š

âœ… **æ¾è€¦åˆæ¶æ„** - ç»„ä»¶ä¹‹é—´çš„ä¾èµ–å…³ç³»æ¸…æ™°æ˜ç¡®  
âœ… **é«˜å¯æµ‹è¯•æ€§** - è½»æ¾æ¨¡æ‹Ÿå’Œæ›¿æ¢ä¾èµ–  
âœ… **ä¼˜é›…çš„è¯­æ³•** - è£…é¥°å™¨è®©ä»£ç ç®€æ´æ˜“è¯»  
âœ… **è‡ªåŠ¨åŒ–ç®¡ç†** - æ— éœ€æ‰‹åŠ¨åˆ›å»ºå’Œè¿æ¥å¯¹è±¡  
âœ… **ç”Ÿäº§å°±ç»ª** - é«˜æ€§èƒ½ã€ç¨³å®šå¯é   

æŒæ¡æœåŠ¡å®¹å™¨ï¼Œä½ å°±æŒæ¡äº†ç°ä»£æ¡†æ¶å¼€å‘çš„æ ¸å¿ƒæŠ€èƒ½ï¼ğŸš€ 