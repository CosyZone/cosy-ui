---
import {
	AppLayout,
	Container,
	Grid,
	Card,
	Heading,
	Text,
	Button,
	Badge,
} from "@coffic/cosy-ui";
import { configApp } from "@/config/config.app";
import * as astroI18n from "astro:i18n";
import iphoneUrl from "@/demos/apple_products/images/iphone.jpg?url";
import macbookUrl from "@/demos/apple_products/images/macbook.jpg?url";
import ipadUrl from "@/demos/apple_products/images/ipad.jpg?url";
import watchUrl from "@/demos/apple_products/images/watch.jpg?url";
import airpodsUrl from "@/demos/apple_products/images/airpods.jpg?url";
import visionProUrl from "@/demos/apple_products/images/vision-pro.jpg?url";
import Logo from "@/assets/logo.png";
import { getFooterConfig } from "@/demos/footerConfig";
import { getMetaConfig } from "@/demos/metaConfig";

const currentLocale = Astro.params.lang;
const t = (zh: string, en: string) => (currentLocale === "zh-cn" ? zh : en);

export const getStaticPaths = async () => {
	return [{ params: { lang: "zh-cn" } }, { params: { lang: "en" } }];
};
---

<AppLayout
    metaConfig={getMetaConfig({
        title: t('Apple 产品列表', 'Apple Products'),
        description: t(
            '精选 Apple 设备与配件，一站式浏览与了解。',
            'Curated Apple devices and accessories for quick browsing and discovery.'
        ),
        keywords: t(
            'iPhone, MacBook, iPad, Apple Watch, AirPods, Vision Pro',
            'iPhone, MacBook, iPad, Apple Watch, AirPods, Vision Pro'
        ),
    })}
    showFooter={true}
    showSidebar={false}
    footerConfig={getFooterConfig(currentLocale || 'zh-cn')}
    headerConfig={{
        logo: Logo,
        logoHref: configApp.homeLink,
        navItems: configApp.getNavItems(currentLocale),
        astroI18n: astroI18n,
    }}
    mainContentConfig={{ py: '2xl' }}>
    <Container width="xl" padding="lg" centered={true}>
        <Heading level={1} margin="lg"
            >{t('Apple 产品列表', 'Apple Products')}</Heading
        >
        <Text margin="md"
            >{
                t(
                    '精选 Apple 设备与配件，一站式浏览与了解。',
                    'Curated Apple devices and accessories for quick browsing and discovery.'
                )
            }</Text
        >

        <Grid cols={{ base: 1, md: 2, lg: 3 }} gap="lg">
            {
                [
                    {
                        nameZh: 'iPhone 15 Pro',
                        nameEn: 'iPhone 15 Pro',
                        tag: 'NEW',
                        img: iphoneUrl,
                        descZh: '钛金属机身，A17 Pro 芯片，顶级性能与影像系统。',
                        descEn: 'Titanium design. A17 Pro chip. Top-tier performance and camera.',
                    },
                    {
                        nameZh: 'MacBook Air (M2)',
                        nameEn: 'MacBook Air (M2)',
                        tag: 'HOT',
                        img: macbookUrl,
                        descZh: '轻薄便携，M2 芯片带来出色续航与性能。',
                        descEn: 'Ultra-thin and portable. M2 chip with great battery and performance.',
                    },
                    {
                        nameZh: 'iPad Pro',
                        nameEn: 'iPad Pro',
                        tag: 'PRO',
                        img: ipadUrl,
                        descZh: '高刷新率屏幕与强大处理器，生产力与创作利器。',
                        descEn: 'High refresh display and powerful processor, built for creation.',
                    },
                    {
                        nameZh: 'Apple Watch Ultra',
                        nameEn: 'Apple Watch Ultra',
                        tag: 'SPORT',
                        img: watchUrl,
                        descZh: '为极限运动而生，更耐用的外壳与更长续航。',
                        descEn: 'Built for extremes with rugged case and longer battery.',
                    },
                    {
                        nameZh: 'AirPods Pro',
                        nameEn: 'AirPods Pro',
                        tag: 'ANC',
                        img: airpodsUrl,
                        descZh: '主动降噪与通透模式，舒适佩戴体验。',
                        descEn: 'Active Noise Cancellation and Transparency mode, comfortable fit.',
                    },
                    {
                        nameZh: 'Vision Pro',
                        nameEn: 'Vision Pro',
                        tag: 'XR',
                        img: visionProUrl,
                        descZh: '空间计算设备，沉浸式体验与全新交互。',
                        descEn: 'Spatial computing device with immersive experiences and new interactions.',
                    },
                ].map((p) => (
                    <Card
                        title={t(p.nameZh, p.nameEn)}
                        subtitle={t(p.descZh, p.descEn)}
                        imageUrl={p.img}>
                        <Badge variant="secondary">{p.tag}</Badge>
                        <Button variant="primary">
                            {t('了解更多', 'Learn more')}
                        </Button>
                    </Card>
                ))
            }
        </Grid>
    </Container>
</AppLayout>
