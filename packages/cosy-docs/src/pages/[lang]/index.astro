---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { PlaceHolder } from '@coffic/cosy-ui';
import HeroSection from '@/widgets/HeroSection.astro';
import DesignPhilosophy from '@/widgets/DesignPhilosophy.astro';
import LiveDemo from '@/widgets/LiveDemo.astro';
import BuilderPattern from '@/widgets/BuilderPattern.astro';
import Showcase from '@/widgets/Showcase.astro';

export const prerender = true;

const { lang = 'zh-cn' } = Astro.params;

// 检测是否在 GitHub Pages 上运行，如果是则重定向到新域名
if (Astro.url.hostname.includes('github.io')) {
    const newUrl = `https://ui.coffic.cn/${lang}`;
    Astro.response.redirect(newUrl, 301);
}

export const getStaticPaths = async () => {
    return [
        {
            params: { lang: 'zh-cn' },
        },
        {
            params: { lang: 'en' },
        },
    ];
};

interface Props {
    lang: string;
}
---

<BaseLayout
    title="Cosy UI 组件库"
    showSidebar={false}
    showTOC={false}
    isArticle={false}
    verticalPadding="none"
    mainLayout="column">
    <HeroSection lang={lang} />
    <DesignPhilosophy lang={lang} />
    <LiveDemo lang={lang} />
    <BuilderPattern lang={lang} />
    <Showcase lang={lang} />
</BaseLayout>
