---
import BaseLayout from '@/layouts/BaseLayout.astro';
import FeatureHighlights from '@/widgets/home/FeatureHighlights.astro';
import FinalCTA from '@/widgets/home/FinalCTA.astro';
import HeroSection from '@/widgets/home/HeroSection.astro';
import UseCases from '@/widgets/home/UseCases.astro';

export const prerender = true;

const { lang = 'zh-cn' } = Astro.params;

export const getStaticPaths = async () => {
    return [
        {
            params: { lang: 'zh-cn' },
        },
        {
            params: { lang: 'en' },
        },
    ];
};

const title =
    lang === 'zh-cn'
        ? 'Cosy UI - 现代化组件库'
        : 'Cosy UI - Modern Component Library';
---

<BaseLayout
    title={title}
    showSidebar={false}
    showTOC={false}
    isArticle={false}
    verticalPadding="none"
    mainLayout="column"
    background="none">
    <HeroSection lang={lang} />
    <FeatureHighlights lang={lang} />
    <UseCases lang={lang} />
    <FinalCTA lang={lang} />
</BaseLayout>

<script is:inline>
    if (window.location.hostname.includes('github.io')) {
        const newUrl = `https://ui.coffic.cn/en`;
        window.location.replace(newUrl);
    }
</script>
