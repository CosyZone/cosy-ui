---
title: 'App Layout'
folder: false
order: 1.1
hidden: false
tags: ['layout']
---

import { AppLayout } from '@coffic/cosy-ui';
import { AppLayoutPackage } from '@/components/app-layout/index.ts';

# {frontmatter.title}

## 简介

AppLayout 组件适用于页面布局，提供一个包含侧边栏导航、头部、主内容区和页脚的完整布局框架。特别适合文档站点、博客、知识库等需要导航和内容展示的场景。

## 案例

<AppLayoutPackage.BasicContainer />

## Props

### enableClientRouter

控制是否启用 Astro 的 ClientRouter，用于类似 SPA 的页面切换。

- 默认值：`true`
- 设为 `false` 时使用整页跳转（非客户端路由）。

### footerConfig

页脚配置，包含站点信息、社交媒体链接等。详细配置选项请参考 [Footer 组件文档](/zh-cn/manuals/components/footer)。

### headerConfig

头部配置，传递给AppHeader组件。详细配置选项请参考 [Header 组件文档](/zh-cn/manuals/components/header)。

### loadingDelay

加载中界面延迟显示的时间（毫秒），用于避免闪烁（默认 100）。

### mainContentConfig

主内容区域配置：

- padding：内边距
- verticalPadding：垂直内边距
- fullWidth：是否全宽

### metaConfig

元数据配置：

- title：页面标题
- description：页面描述
- keywords：页面关键词
- author：作者
- robots：爬虫策略
- favicon：站点图标
- basePath：基础路径（用于二级目录部署）
- siteName：站点名称
- lang：页面语言（默认 zh-CN）
- viewport：是否包含 viewport 元标签（默认 true）
- customStyles：自定义样式（注入到 head）
- head：自定义头部内容（HTML）
- background：预设背景色
- theme：主题 ID

### showFooter

是否显示页脚（true/false）。

### showHeader

是否显示头部（true/false）。

### showSidebar

是否显示侧边栏（true/false）。

### sidebarConfig

侧边栏配置，包含导航项等。

<AppLayoutPackage.SidebarConfig />

### theme

设置布局的主题。支持的主题包括：

- `light`
- `dark`
- `corporate`
- `lemonade`
- `nord`
- `business`
- `luxury`

默认值为 `default`。

## Slots

### background

自定义背景层（最低层，z-index: 0）。用于创建全屏背景效果，如渐变、图片、装饰元素等。背景层固定定位在视口，不随内容滚动。

**💡 [查看在线演示](/zh-cn/demos/custom_background)** - 体验完整的自定义背景功能

**使用场景**：
- 渐变背景：创建吸引眼球的渐变效果
- 背景图片：添加品牌相关的背景图片
- 装饰元素：添加模糊圆圈、几何图案等装饰
- 动画背景：Canvas 动画、粒子效果等
- 视频背景：全屏视频背景

**示例**：

```astro
<AppLayout
  metaConfig={{ title: "我的应用" }}
  showHeader={false}
  showSidebar={false}
>
  <!-- 自定义背景层 -->
  <div slot="background" class="cosy:fixed cosy:inset-0 cosy:bg-linear-to-br cosy:from-blue-600 cosy:to-purple-800">
    <!-- 装饰性模糊元素 -->
    <div class="cosy:absolute cosy:top-10 cosy:left-10 cosy:w-96 cosy:h-96 cosy:bg-white/10 cosy:rounded-full cosy:blur-3xl"></div>
    <div class="cosy:absolute cosy:bottom-10 cosy:right-10 cosy:w-96 cosy:h-96 cosy:bg-white/10 cosy:rounded-full cosy:blur-3xl"></div>
  </div>

  <!-- 主内容（需要自行处理背景透明度） -->
  <div class="cosy:bg-white/80 cosy:backdrop-blur cosy:p-8 cosy:rounded-lg">
    <h1>页面内容</h1>
    <p>背景层会在所有内容下方渲染</p>
  </div>
</AppLayout>
```

**技术特性**：
- 固定定位（`position: fixed`），不随内容滚动
- 最低 z-index（z-index: 0），在所有内容下方
- 默认 `pointer-events: none`，不影响用户交互
- 完全自定义，支持任何 HTML/CSS/Canvas

**注意事项**：
- 背景层会覆盖整个视口（`inset: 0`）
- 主内容需要适当的背景色和透明度以保持可读性
- 使用 CSS 渐变优于图片（性能更好）
- 避免过度使用阴影和模糊效果（影响性能）
- 如果需要交互元素，需在 background slot 内容中设置 `pointer-events: auto`

### default

主内容区域，用于放置页面的主要内容。

<AppLayoutPackage.DefaultSlot />

### header

自定义全局 header（优先级最高）。当提供此 slot 时，会替代内置的 AppHeader，并横跨整个页面宽度（不受侧边栏限制）。

**💡 [查看在线演示](/zh-cn/demos/custom_header)** - 体验完整的自定义 header 功能

**使用场景**：
- 品牌定制：需要完全自定义的 header 设计
- 特殊交互：实现透明渐变、滚动变化等效果
- 复杂布局：需要特殊的布局结构
- 第三方集成：集成第三方 header 组件

**示例**：

```astro
<AppLayout
  metaConfig={{ title: "我的应用" }}
  sidebarConfig={{ sidebarItems: [] }}
>
  <!-- 自定义 header，横跨整个页面宽度 -->
  <header slot="header" class="cosy:bg-primary cosy:text-white cosy:p-4">
    <div class="cosy:container cosy:mx-auto cosy:flex cosy:items-center cosy:justify-between">
      <h1 class="cosy:text-xl cosy:font-bold">我的品牌</h1>
      <nav class="cosy:flex cosy:gap-4">
        <a href="/" class="cosy:hover:underline">首页</a>
        <a href="/docs" class="cosy:hover:underline">文档</a>
      </nav>
    </div>
  </header>

  <!-- 主内容 -->
  <h1>页面内容</h1>
</AppLayout>
```

**注意事项**：
- 自定义 header 的优先级最高，会覆盖 `showHeader` 和 `headerConfig` 配置
- 建议使用容器（如 `cosy:container cosy:mx-auto`）来限制内容宽度
- 需要自行处理响应式布局和样式
- z-index 建议设置为 40-50 之间

### footer

自定义全局 footer（优先级最高）。当提供此 slot 时，会替代内置的 Footer，并横跨整个页面宽度（不受侧边栏限制）。

**💡 [查看在线演示](/zh-cn/demos/headers/custom_footer)** - 体验完整的自定义 footer 功能

**使用场景**：
- 品牌定制：需要完全自定义的 footer 设计
- 特殊交互：实现复杂的布局结构
- 多列布局：需要在 footer 中实现多列内容
- 第三方集成：集成第三方 footer 组件

**示例**：

```astro
<AppLayout
  metaConfig={{ title: "我的应用" }}
  sidebarConfig={{ sidebarItems: [] }}
>
  <!-- 主内容 -->
  <h1>页面内容</h1>

  <!-- 自定义 footer，横跨整个页面宽度 -->
  <footer slot="footer" class="cosy:bg-base-200 cosy:p-8">
    <div class="cosy:container cosy:mx-auto">
      <div class="cosy:grid cosy:grid-cols-1 cosy:md:grid-cols-3 cosy:gap-8">
        <div>
          <h3 class="cosy:font-bold cosy:text-lg cosy:mb-4">关于我们</h3>
          <p class="cosy:text-sm">我们致力于提供最好的产品和服务</p>
        </div>
        <div>
          <h3 class="cosy:font-bold cosy:text-lg cosy:mb-4">快速链接</h3>
          <ul class="cosy:space-y-2">
            <li><a href="/docs" class="cosy:link cosy:link-hover">文档</a></li>
            <li><a href="/blog" class="cosy:link cosy:link-hover">博客</a></li>
          </ul>
        </div>
        <div>
          <h3 class="cosy:font-bold cosy:text-lg cosy:mb-4">联系方式</h3>
          <p class="cosy:text-sm">email@example.com</p>
        </div>
      </div>
      <div class="cosy:mt-8 cosy:pt-8 cosy:border-t cosy:text-center cosy:text-sm">
        <p>&copy; 2025 我的公司. All rights reserved.</p>
      </div>
    </div>
  </footer>
</AppLayout>
```

**注意事项**：
- 自定义 footer 的优先级最高，会覆盖 `showFooter` 和 `footerConfig` 配置
- 建议使用容器（如 `cosy:container cosy:mx-auto`）来限制内容宽度
- 需要自行处理响应式布局和样式
- 与 header slot 保持一致的设计模式

### navbar-start

导航栏开始位置的内容，传递给AppHeader组件。

<AppLayoutPackage.NavbarStartSlot />

### navbar-center

导航栏中间位置的内容，传递给AppHeader组件。

<AppLayoutPackage.NavbarCenterSlot />

### navbar-end

导航栏结束位置的内容，传递给AppHeader组件。

<AppLayoutPackage.NavbarEndSlot />

### modal-search

搜索模态框内容，当提供此slot时会显示搜索按钮，传递给AppHeader组件。

<AppLayoutPackage.ModalSearchSlot />

### sidebar

自定义侧边栏内容（优先级最高）。当提供此 slot 时，会覆盖内置 Sidebar，与 `showSidebar` 和 `sidebarConfig` 配置无关，但仍继承粘性定位与高度约束。

**使用场景**：
- 完全自定义导航结构与样式
- 内置侧边栏无法满足品牌或交互需求
- 需要在侧边栏中放置统计、操作面板等特殊内容

**示例**：

```astro
<AppLayout metaConfig={{ title: "自定义侧边栏" }}>
  <div
    slot="sidebar"
    class="cosy:sticky cosy:top-16 cosy:h-[calc(100vh-6rem)] cosy:w-72 cosy:bg-base-200 cosy:p-4 cosy:rounded-xl cosy:shadow-lg">
    <!-- 自定义导航或内容 -->
  </div>

  <h1 class="cosy:text-2xl cosy:font-bold cosy:p-6">页面内容</h1>
</AppLayout>
```

<AppLayoutPackage.SidebarSlot />
