---
title: 'CodePanel'
folder: false
order: 5.1
---

import { CodePanel } from '@coffic/cosy-ui';
import { ComponentPackage } from '@/components/code-panel/index';

## 简介

CodePanel 是一个专业的代码展示面板组件，基于 Shiki 提供高质量的代码语法高亮效果。支持 180+ 编程语言和多种 VS Code 主题，为开发者文档和教程提供最佳的代码展示体验。

组件特性：

- 🎨 **语法高亮**：基于 Shiki，支持 180+ 编程语言
- 🎭 **多主题支持**：支持 VS Code 主题（dark-plus、light-plus、github-dark 等）
- 🚀 **性能优化**：服务端渲染，避免客户端重复计算
- 📱 **响应式设计**：自适应不同屏幕尺寸
- 🎯 **可访问性**：语义化 HTML 结构，支持键盘导航
- 🔧 **高度可定制**：支持自定义主题和样式

## 基础用法

最简单的代码展示：

<ComponentPackage.ComponentContainers.Basic />

## 主题切换

CodePanel 支持多种 VS Code 主题，提供一致的代码阅读体验：

<ComponentPackage.ComponentContainers.ThemeExample />

## 多语言支持

支持 180+ 编程语言的语法高亮：

<ComponentPackage.ComponentContainers.LanguageSupport />

## 属性说明

| 属性 | 类型 | 默认值 | 说明 |
|------|------|--------|------|
| `code` | `string` | - | 要显示的代码字符串（必需） |
| `language` | `string` | `'typescript'` | 代码语言，用于语法高亮 |
| `theme` | `string` | `'dark-plus'` | 主题名称 |
| `showLineNumbers` | `boolean` | `false` | 是否显示行号 |
| `visible` | `boolean` | `true` | 是否显示在面板中 |
| `class` | `string` | - | 自定义类名 |

## 支持的主题

- `dark-plus` - VS Code 默认深色主题
- `light-plus` - VS Code 默认浅色主题  
- `github-dark` - GitHub 深色主题
- `github-light` - GitHub 浅色主题
- `nord` - Nord 主题
- `dracula` - Dracula 主题

## 支持的语言

CodePanel 支持所有 Shiki 支持的编程语言，包括但不限于：

- **前端**：JavaScript、TypeScript、HTML、CSS、SCSS、Vue、React、Astro
- **后端**：Python、Java、C#、Go、Rust、PHP、Ruby、Node.js
- **数据库**：SQL、MongoDB、Redis
- **配置**：JSON、YAML、TOML、XML
- **脚本**：Shell、PowerShell、Bash
- **其他**：Markdown、Docker、Kubernetes、Terraform

## 最佳实践

### 1. 性能优化

```astro
<!-- 推荐：指定具体语言，避免自动检测 -->
<CodePanel 
  code={code}
  language="typescript"
/>

<!-- 避免：使用通用语言，可能影响高亮质量 -->
<CodePanel 
  code={code}
  language="text"
/>
```

### 2. 主题选择

```astro
<!-- 根据页面主题选择合适的代码主题 -->
<CodePanel 
  code={code}
  language="javascript"
  theme="github-light"  // 适合浅色页面
/>

<CodePanel 
  code={code}
  language="javascript"  
  theme="github-dark"   // 适合深色页面
/>
```

### 3. 在容器中使用

```astro
---
import { CodeContainer, CodePanel } from '@coffic/cosy-ui';
---

<CodeContainer codes={[sourceCode]}>
  <div id="tab-1">
    <YourComponent />
  </div>
</CodeContainer>
```

## 注意事项

1. **代码转义**：确保传入的代码字符串正确转义特殊字符
2. **主题一致性**：在同一页面中保持主题一致性，提供更好的用户体验
3. **性能考虑**：大量代码块可能影响页面加载速度，考虑使用懒加载
4. **移动端适配**：长代码行在移动设备上会产生横向滚动，注意代码格式

## 常见问题

**Q: 为什么某些语言的高亮效果不理想？**

A: 请确保指定的 `language` 参数与代码实际语言匹配，并且该语言受 Shiki 支持。

**Q: 如何自定义代码样式？**

A: 可以通过 `class` 属性添加自定义 CSS 类，或者通过 CSS 变量覆盖默认样式。

**Q: 代码很长时如何处理？**

A: 组件会自动添加横向滚动条。对于超长代码，建议分段展示或提供下载链接。 
