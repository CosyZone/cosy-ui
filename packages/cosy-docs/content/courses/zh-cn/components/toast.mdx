---
title: Toast é€šçŸ¥ç»„ä»¶
description: Toast é€šçŸ¥ç»„ä»¶ç”¨äºæ˜¾ç¤ºä¸´æ—¶çš„åé¦ˆæ¶ˆæ¯ï¼Œæ”¯æŒå¤šç§ç±»å‹å’Œè‡ªåŠ¨æ¶ˆå¤±åŠŸèƒ½ã€‚
folder: false
order: 25
---

import { Toast, ToastContainer } from '@coffic/cosy-ui';
import { ToastPackage } from '@/components/toast/index.ts';

Toast é€šçŸ¥ç»„ä»¶ç”¨äºæ˜¾ç¤ºä¸´æ—¶çš„åé¦ˆæ¶ˆæ¯ï¼Œæ”¯æŒå¤šç§ç±»å‹ï¼ˆæˆåŠŸã€é”™è¯¯ã€è­¦å‘Šã€ä¿¡æ¯ï¼‰å’Œè‡ªåŠ¨æ¶ˆå¤±åŠŸèƒ½ã€‚ä¸ DashboardLayout æ·±åº¦é›†æˆï¼Œæä¾›å…¨å±€é€šçŸ¥èƒ½åŠ›ã€‚

## ç‰¹æ€§

- ğŸ¯ **å››ç§ç±»å‹** - æ”¯æŒ successã€errorã€warningã€info å››ç§æ¶ˆæ¯ç±»å‹
- âš¡ **ç®€å• API** - é€šè¿‡å…¨å±€å‡½æ•° `showToast()` å¿«é€Ÿè°ƒç”¨
- ğŸ”„ **è‡ªåŠ¨ç®¡ç†** - è‡ªåŠ¨æ˜¾ç¤ºã€å®šæ—¶æ¶ˆå¤±å’Œå†…å­˜æ¸…ç†
- ğŸ¨ **ä¼˜é›…åŠ¨ç”»** - å¹³æ»‘çš„æ»‘å…¥æ»‘å‡ºåŠ¨ç”»æ•ˆæœ
- ğŸ“± **å“åº”å¼è®¾è®¡** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸
- â™¿ **å¯è®¿é—®æ€§** - æ”¯æŒå±å¹•é˜…è¯»å™¨å’Œ ARIA æ ‡å‡†
- ğŸ”§ **æ‰¹é‡ç®¡ç†** - æ”¯æŒåŒæ—¶æ˜¾ç¤ºå¤šä¸ªé€šçŸ¥å’Œæ‰¹é‡æ¸…é™¤

## åŸºç¡€ç”¨æ³•

é€šè¿‡ä¸åŒçš„æ ‡ç­¾é¡µå±•ç¤º Toast çš„å„ç§ä½¿ç”¨åœºæ™¯ï¼š

<ToastPackage.ToastContainers.Basic />

## ç‹¬ç«‹ä½¿ç”¨

Toast ç»„ä»¶å¯ä»¥ç‹¬ç«‹ä½¿ç”¨ï¼Œåªéœ€è¦æ·»åŠ  ToastContainerï¼š

```astro
---
import { ToastContainer } from '@coffic/cosy-ui';
---

<!-- é¡µé¢å†…å®¹ -->
<div>
  <button onclick="showToast('æ“ä½œæˆåŠŸï¼')">
    ç‚¹å‡»æ˜¾ç¤ºé€šçŸ¥
  </button>
</div>

<!-- Toast å®¹å™¨ -->
<ToastContainer />
```

## API å‚è€ƒ

### å…¨å±€å‡½æ•°

#### showToast(config)

æ˜¾ç¤ºä¸€ä¸ª Toast é€šçŸ¥ã€‚

```javascript
// å­—ç¬¦ä¸²å½¢å¼ï¼ˆç®€åŒ–ç”¨æ³•ï¼‰
const id = showToast('æ“ä½œæˆåŠŸï¼');

// å¯¹è±¡å½¢å¼ï¼ˆå®Œæ•´é…ç½®ï¼‰
const id = showToast({
  message: 'æ•°æ®ä¿å­˜æˆåŠŸ',
  type: 'success',       // 'info' | 'success' | 'warning' | 'error'
  duration: 3000,        // æ˜¾ç¤ºæ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œ0 è¡¨ç¤ºä¸è‡ªåŠ¨å…³é—­
  id: 'custom-id'        // å¯é€‰çš„è‡ªå®šä¹‰ ID
});
```

**å‚æ•°ï¼š**
- `config` (string | ToastConfig) - æ¶ˆæ¯å†…å®¹æˆ–é…ç½®å¯¹è±¡

**è¿”å›å€¼ï¼š**
- `string` - Toast çš„å”¯ä¸€ IDï¼Œå¯ç”¨äºæ‰‹åŠ¨å…³é—­

#### closeToast(id)

å…³é—­æŒ‡å®šçš„ Toast é€šçŸ¥ã€‚

```javascript
const toastId = showToast('æ­£åœ¨å¤„ç†...');
setTimeout(() => closeToast(toastId), 2000);
```

**å‚æ•°ï¼š**
- `id` (string) - Toast çš„å”¯ä¸€ ID

#### clearAllToasts()

å…³é—­æ‰€æœ‰å½“å‰æ˜¾ç¤ºçš„ Toast é€šçŸ¥ã€‚

```javascript
clearAllToasts();
```

### ToastConfig æ¥å£

```typescript
interface ToastConfig {
  message: string;           // æ¶ˆæ¯å†…å®¹
  type?: ToastType;          // æ¶ˆæ¯ç±»å‹ï¼Œé»˜è®¤ 'info'
  duration?: number;         // æ˜¾ç¤ºæ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰ï¼Œé»˜è®¤ 3000
  id?: string;              // è‡ªå®šä¹‰ IDï¼Œä¸æä¾›ä¼šè‡ªåŠ¨ç”Ÿæˆ
}

type ToastType = 'info' | 'success' | 'warning' | 'error';
```

### ToastContainer ç»„ä»¶

ç”¨äºç‹¬ç«‹ä½¿ç”¨ Toast ç³»ç»Ÿçš„å®¹å™¨ç»„ä»¶ã€‚

```astro
---
import { ToastContainer } from '@coffic/cosy-ui';
---

<!-- é¡µé¢å†…å®¹ -->
<div>
  <button onclick="showToast('Hello!')">
    æ˜¾ç¤ºé€šçŸ¥
  </button>
</div>

<!-- Toast å®¹å™¨ -->
<ToastContainer />
```

**æ³¨æ„ï¼š** å¦‚æœä½¿ç”¨ DashboardLayoutï¼Œæ— éœ€æ‰‹åŠ¨æ·»åŠ  ToastContainerã€‚

## æ ·å¼å®šåˆ¶

Toast ç»„ä»¶ä½¿ç”¨ DaisyUI çš„ alert æ ·å¼ç³»ç»Ÿï¼Œæ”¯æŒä¸»é¢˜åˆ‡æ¢ï¼š

```css
/* è‡ªå®šä¹‰ Toast å®¹å™¨ä½ç½® */
#toast-container {
  top: 1rem;
  right: 1rem;
  z-index: 50;
}

/* è‡ªå®šä¹‰åŠ¨ç”»æ—¶é•¿ */
.toast-enter, .toast-exit {
  transition-duration: 300ms;
}
```

## æœ€ä½³å®è·µ

### 1. åˆç†ä½¿ç”¨æ¶ˆæ¯ç±»å‹

```javascript
// âœ… æ­£ç¡®ï¼šæ ¹æ®æ“ä½œç»“æœé€‰æ‹©åˆé€‚çš„ç±»å‹
showToast({ message: 'ç”¨æˆ·åˆ›å»ºæˆåŠŸ', type: 'success' });
showToast({ message: 'ç½‘ç»œè¿æ¥å¤±è´¥', type: 'error' });
showToast({ message: 'è¯·æ³¨æ„æ•°æ®å®‰å…¨', type: 'warning' });
showToast({ message: 'ç³»ç»Ÿç»´æŠ¤é€šçŸ¥', type: 'info' });

// âŒ é”™è¯¯ï¼šç±»å‹ä¸æ¶ˆæ¯å†…å®¹ä¸åŒ¹é…
showToast({ message: 'æ“ä½œå¤±è´¥', type: 'success' });
```

### 2. è®¾ç½®åˆé€‚çš„æ˜¾ç¤ºæ—¶é•¿

```javascript
// âœ… æ­£ç¡®ï¼šæ ¹æ®æ¶ˆæ¯é‡è¦æ€§è®¾ç½®æ—¶é•¿
showToast({ message: 'ä¿å­˜æˆåŠŸ', duration: 2000 });      // ç®€å•ç¡®è®¤
showToast({ message: 'é‡è¦è­¦å‘Šä¿¡æ¯', duration: 5000 });   // é‡è¦æé†’
showToast({ message: 'æ­£åœ¨å¤„ç†...', duration: 0 });      // éœ€è¦æ‰‹åŠ¨å…³é—­

// âŒ é”™è¯¯ï¼šé‡è¦ä¿¡æ¯æ˜¾ç¤ºæ—¶é—´å¤ªçŸ­
showToast({ message: 'ç³»ç»Ÿå°†é‡å¯ï¼Œè¯·ä¿å­˜æ•°æ®', duration: 1000 });
```

### 3. é¿å…ä¿¡æ¯è¿‡è½½

```javascript
// âœ… æ­£ç¡®ï¼šåˆå¹¶ç›¸å…³æ¶ˆæ¯
showToast({ message: 'æ‰¹é‡æ“ä½œå®Œæˆï¼šæˆåŠŸ 5 é¡¹ï¼Œå¤±è´¥ 1 é¡¹', type: 'warning' });

// âŒ é”™è¯¯ï¼šçŸ­æ—¶é—´å†…æ˜¾ç¤ºè¿‡å¤šæ¶ˆæ¯
for (let i = 0; i < 10; i++) {
  showToast(`å¤„ç†ç¬¬ ${i + 1} é¡¹`);
}
```

### 4. æä¾›æœ‰æ„ä¹‰çš„æ¶ˆæ¯

```javascript
// âœ… æ­£ç¡®ï¼šæ¸…æ™°çš„æ“ä½œåé¦ˆ
showToast({ message: 'ç”¨æˆ· "å¼ ä¸‰" å·²åˆ é™¤', type: 'success' });
showToast({ message: 'ä¸Šä¼ å¤±è´¥ï¼šæ–‡ä»¶å¤§å°è¶…è¿‡ 10MB', type: 'error' });

// âŒ é”™è¯¯ï¼šæ¨¡ç³Šçš„æ¶ˆæ¯
showToast({ message: 'æ“ä½œå®Œæˆ', type: 'success' });
showToast({ message: 'å‡ºé”™äº†', type: 'error' });
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆ showToast å‡½æ•°æœªå®šä¹‰ï¼Ÿ

**A:** ç¡®ä¿å·²æ­£ç¡®é›†æˆ Toast ç³»ç»Ÿï¼š

1. ä½¿ç”¨ DashboardLayout ä¸” `enableToast` ä¸º trueï¼ˆé»˜è®¤ï¼‰
2. æˆ–æ‰‹åŠ¨æ·»åŠ  `<ToastContainer />` åˆ°é¡µé¢ä¸­
3. ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½åå†è°ƒç”¨

### Q: å¦‚ä½•åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ—¶ä½¿ç”¨ï¼Ÿ

**A:** Toast æ˜¯å®¢æˆ·ç«¯åŠŸèƒ½ï¼Œåªèƒ½åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ä½¿ç”¨ï¼š

```javascript
// âœ… æ­£ç¡®ï¼šæ£€æŸ¥ç¯å¢ƒ
if (typeof window !== 'undefined') {
  showToast('å®¢æˆ·ç«¯æ¶ˆæ¯');
}

// æˆ–åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ä½¿ç”¨
function handleClick() {
  showToast('ç‚¹å‡»æˆåŠŸ');  // äº‹ä»¶å¤„ç†å‡½æ•°æ€»æ˜¯åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ
}
```

### Q: å¦‚ä½•å®ç°æŒä¹…åŒ–é€šçŸ¥ï¼Ÿ

**A:** è®¾ç½® `duration` ä¸º 0ï¼Œæ‰‹åŠ¨æ§åˆ¶å…³é—­ï¼š

```javascript
const persistentToast = showToast({
  message: 'é‡è¦ï¼šè¯·å®Œæˆå¿…å¡«é¡¹',
  type: 'warning',
  duration: 0  // ä¸è‡ªåŠ¨å…³é—­
});

// åœ¨æŸä¸ªæ¡ä»¶æ»¡è¶³æ—¶å…³é—­
if (formIsValid) {
  closeToast(persistentToast);
}
```

 