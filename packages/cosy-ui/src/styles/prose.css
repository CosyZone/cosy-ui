/* 自定义 prose 样式系统 - 替代 @tailwindcss/typography 插件 */
@layer components {
	/* 基础 prose 样式 */
	.prose,
	.cosy\:prose {
		@apply cosy:max-w-none;
		color: hsl(var(--bc));

		/* 标题样式 */
		h1 {
			@apply cosy:text-4xl cosy:font-bold cosy:mt-0 cosy:mb-4 cosy:leading-tight;
			color: hsl(var(--bc));
		}

		h2 {
			@apply cosy:text-3xl cosy:font-semibold cosy:mt-8 cosy:mb-4 cosy:leading-snug;
			color: hsl(var(--bc));
		}

		h3 {
			@apply cosy:text-2xl cosy:font-semibold cosy:mt-6 cosy:mb-3 cosy:leading-snug;
			color: hsl(var(--bc));
		}

		h4 {
			@apply cosy:text-xl cosy:font-semibold cosy:mt-4 cosy:mb-2 cosy:leading-normal;
			color: hsl(var(--bc));
		}

		h5 {
			@apply cosy:text-lg cosy:font-semibold cosy:mt-4 cosy:mb-2 cosy:leading-normal;
			color: hsl(var(--bc));
		}

		h6 {
			@apply cosy:text-base cosy:font-semibold cosy:mt-3 cosy:mb-2 cosy:leading-normal;
			color: hsl(var(--bc));
		}

		/* 段落样式 */
		p {
			@apply cosy:mb-4 cosy:leading-relaxed;
			color: hsl(var(--bc));
		}

		/* 列表样式 */
		ul,
		ol {
			@apply cosy:mb-4 cosy:ml-6;
			color: hsl(var(--bc));
		}

		ul {
			@apply cosy:list-disc;
		}

		ol {
			@apply cosy:list-decimal;
		}

		li {
			@apply cosy:mb-2;
		}

		/* 嵌套列表 */
		ul ul,
		ol ol,
		ul ol,
		ol ul {
			@apply cosy:mt-2 cosy:mb-0;
		}

		/* 链接样式 */
		a {
			@apply cosy:underline;
			color: hsl(var(--p));
		}

		a:hover {
			color: hsl(var(--pf));
		}

		/* 引用样式 */
		blockquote {
			@apply cosy:border-l-4 cosy:pl-4 cosy:italic cosy:my-4;
			border-color: hsl(var(--p));
			color: hsl(var(--bc) / 0.8);
		}

		/* 代码样式 */
		code {
			@apply cosy:bg-base-300 cosy:text-sm cosy:px-1 cosy:py-0.5 cosy:rounded;
			font-family: ui-monospace, monospace;
			color: hsl(var(--bc));
		}

		pre {
			@apply cosy:bg-base-300 cosy:p-4 cosy:rounded-lg cosy:overflow-x-auto cosy:my-4;
			color: hsl(var(--bc));
		}

		pre code {
			@apply cosy:bg-transparent cosy:p-0;
		}

		/* 表格样式 - 使用之前的自定义样式 */
		table {
			width: 100%;
			border-collapse: collapse;
			overflow: hidden;
			border-radius: 0.5rem;
			margin-top: 1.5rem;
			margin-bottom: 1.5rem;
			background: hsl(var(--b1));
			border: 2px solid hsl(var(--b3));
			box-shadow:
				0 4px 6px -1px hsl(var(--nf) / 0.1),
				0 2px 4px -2px hsl(var(--nf) / 0.1);
			transition: all 0.3s ease;
		}

		table:hover {
			box-shadow:
				0 10px 15px -3px hsl(var(--nf) / 0.15),
				0 4px 6px -4px hsl(var(--nf) / 0.15);
			transform: translateY(-1px);
		}

		thead {
			background-color: hsl(var(--b2) / 0.8);
		}

		thead tr {
			border-bottom: 2px solid hsl(var(--p) / 0.3);
		}

		thead th {
			padding-left: 1rem;
			padding-right: 1rem;
			padding-top: 0.75rem;
			padding-bottom: 0.75rem;
			text-align: left;
			font-weight: 700;
			color: hsl(var(--p));
			text-transform: uppercase;
			font-size: 0.875rem;
			letter-spacing: 0.05em;
			background: linear-gradient(
				to bottom,
				hsl(var(--b2)),
				hsl(var(--b3) / 0.5)
			);
			border-bottom: 2px solid hsl(var(--p) / 0.3);
			position: relative;
		}

		thead th:first-child {
			border-top-left-radius: 0.5rem;
		}

		thead th:last-child {
			border-top-right-radius: 0.5rem;
		}

		tbody tr {
			border-bottom: 1px solid hsl(var(--b3) / 0.5);
			transition: all 0.2s ease;
		}

		tbody tr:hover {
			background-color: hsl(var(--p) / 0.05);
			transform: scale(1.01);
		}

		tbody tr:last-child {
			border-bottom: none;
		}

		tbody tr:nth-child(even) {
			background-color: hsl(var(--b2) / 0.3);
		}

		tbody td {
			padding-left: 1rem;
			padding-right: 1rem;
			padding-top: 0.75rem;
			padding-bottom: 0.75rem;
			color: hsl(var(--bc) / 0.9);
			border-right: 1px solid hsl(var(--b3) / 0.3);
		}

		tbody td:last-child {
			border-right: none;
		}

		tbody td:first-child {
			font-weight: 500;
			color: hsl(var(--p) / 0.8);
		}

		/* 图片样式 */
		img {
			@apply cosy:max-w-full cosy:h-auto cosy:rounded-lg cosy:my-4;
		}

		/* 水平线样式 */
		hr {
			@apply cosy:border-0 cosy:border-t cosy:my-8;
			border-color: hsl(var(--b3));
		}

		/* 强调样式 */
		strong {
			@apply cosy:font-bold;
			color: hsl(var(--bc));
		}

		em {
			@apply cosy:italic;
		}

		/* 删除线 */
		del,
		s {
			@apply cosy:line-through;
		}

		/* 下划线 */
		u {
			@apply cosy:underline;
		}

		/* 上标和下标 */
		sup,
		sub {
			@apply cosy:text-xs;
		}
	}

	/* prose-slate 颜色变体 */
	.prose-slate,
	.cosy\:prose-slate {
		color: hsl(var(--bc));
	}

	.prose-slate h1,
	.cosy\:prose-slate h1,
	.prose-slate h2,
	.cosy\:prose-slate h2,
	.prose-slate h3,
	.cosy\:prose-slate h3,
	.prose-slate h4,
	.cosy\:prose-slate h4,
	.prose-slate h5,
	.cosy\:prose-slate h5,
	.prose-slate h6,
	.cosy\:prose-slate h6 {
		color: hsl(var(--bc));
	}

	/* 暗黑模式支持 */
	.dark .prose,
	.dark .cosy\:prose,
	.prose.dark\:prose-invert,
	.cosy\:prose.dark\:prose-invert {
		color: hsl(var(--bc));
	}

	.dark .prose h1,
	.dark .cosy\:prose h1,
	.prose.dark\:prose-invert h1,
	.cosy\:prose.dark\:prose-invert h1,
	.dark .prose h2,
	.dark .cosy\:prose h2,
	.prose.dark\:prose-invert h2,
	.cosy\:prose.dark\:prose-invert h2,
	.dark .prose h3,
	.dark .cosy\:prose h3,
	.prose.dark\:prose-invert h3,
	.cosy\:prose.dark\:prose-invert h3,
	.dark .prose h4,
	.dark .cosy\:prose h4,
	.prose.dark\:prose-invert h4,
	.cosy\:prose.dark\:prose-invert h4,
	.dark .prose h5,
	.dark .cosy\:prose h5,
	.prose.dark\:prose-invert h5,
	.cosy\:prose.dark\:prose-invert h5,
	.dark .prose h6,
	.dark .cosy\:prose h6,
	.prose.dark\:prose-invert h6,
	.cosy\:prose.dark\:prose-invert h6 {
		color: hsl(var(--bc));
	}

	/* not-prose 类 - 排除 prose 样式 */
	.not-prose,
	.cosy\:not-prose {
		color: revert;
	}

	.not-prose h1,
	.cosy\:not-prose h1,
	.not-prose h2,
	.cosy\:not-prose h2,
	.not-prose h3,
	.cosy\:not-prose h3,
	.not-prose h4,
	.cosy\:not-prose h4,
	.not-prose h5,
	.cosy\:not-prose h5,
	.not-prose h6,
	.cosy\:not-prose h6 {
		color: revert;
		@apply cosy:font-bold;
	}

	.not-prose p,
	.cosy\:not-prose p {
		color: revert;
		@apply cosy:mb-0;
	}

	.not-prose ul,
	.cosy\:not-prose ul,
	.not-prose ol,
	.cosy\:not-prose ol {
		color: revert;
		@apply cosy:mb-0 cosy:ml-0 cosy:list-none;
	}

	.not-prose a,
	.cosy\:not-prose a {
		color: revert;
		text-decoration: revert;
	}

	.not-prose blockquote,
	.cosy\:not-prose blockquote {
		border: revert;
		@apply cosy:pl-0 cosy:italic cosy:my-0;
		color: revert;
	}

	.not-prose code,
	.cosy\:not-prose code {
		background: revert;
		@apply cosy:text-sm cosy:px-0 cosy:py-0 cosy:rounded-none;
		color: revert;
		font-family: revert;
	}

	.not-prose pre,
	.cosy\:not-prose pre {
		background: revert;
		@apply cosy:p-0 cosy:rounded-none cosy:overflow-visible cosy:my-0;
		color: revert;
	}

	.not-prose table,
	.cosy\:not-prose table {
		width: revert;
		border-collapse: revert;
		overflow: revert;
		border-radius: revert;
		margin: revert;
		background: revert;
		border: revert;
		box-shadow: revert;
		transition: revert;
	}

	.not-prose img,
	.cosy\:not-prose img {
		@apply cosy:max-w-none cosy:h-auto cosy:rounded-none cosy:my-0;
	}

	.not-prose hr,
	.cosy\:not-prose hr {
		border: revert;
		@apply cosy:my-0;
		border-color: revert;
	}

	/* 尺寸变体 */
	.prose-sm,
	.cosy\:prose-sm {
		@apply cosy:text-sm;
	}

	.prose-base,
	.cosy\:prose-base {
		@apply cosy:text-base;
	}

	.prose-lg,
	.cosy\:prose-lg {
		@apply cosy:text-lg;
	}

	.prose-xl,
	.cosy\:prose-xl {
		@apply cosy:text-xl;
	}

	.prose-2xl,
	.cosy\:prose-2xl {
		@apply cosy:text-2xl;
	}

	/* 响应式优化 */
	@media (max-width: 768px) {
		.prose table,
		.cosy\:prose table {
			font-size: 0.875rem;
		}

		.prose thead th,
		.cosy\:prose thead th,
		.prose tbody td,
		.cosy\:prose tbody td {
			padding-left: 0.5rem;
			padding-right: 0.5rem;
			padding-top: 0.5rem;
			padding-bottom: 0.5rem;
		}
	}
}
