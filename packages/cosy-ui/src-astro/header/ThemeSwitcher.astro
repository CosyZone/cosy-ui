---
/**
 * @component ThemeSwitcher
 *
 * @description
 * ThemeSwitcher 组件提供一个主题切换下拉菜单，允许用户在多个预定义主题之间切换。
 * 组件会记住用户的主题选择，并在页面重新加载或访问网站的其他页面时保持该主题。
 *
 * @usage
 * 基本用法：
 * ```astro
 * <ThemeSwitcher />
 * ```
 *
 * 自定义样式：
 * ```astro
 * <ThemeSwitcher class="cosy:top-4 cosy:right-4 cosy:fixed" />
 * ```
 */

import { Button, SunCloudyIcon } from '../../index-astro';
import { themes } from '../../src/common/themes';
import ThemeItem from './ThemeItem.astro';

interface Props {
    /**
     * 自定义类名
     */
    class?: string;
}

const { class: className } = Astro.props;
---

<!-- 主题切换按钮 -->
<div class:list={['cosy:dropdown-end cosy:dropdown', className]}>
    <Button aria-label="切换主题" tabindex="0" variant="ghost">
        <SunCloudyIcon size="16px" />
    </Button>
    <ul
        tabindex={0}
        class="cosy:dropdown-content cosy:ring-1 cosy:ring-base-300 cosy:bg-base-200 cosy:menu cosy:rounded-box cosy:z-1 cosy:w-56 cosy:p-2 cosy:shadow-lg">
        {
            themes.map((theme) => (
                <ThemeItem theme={theme.id} label={theme.name} />
            ))
        }
    </ul>
</div>
