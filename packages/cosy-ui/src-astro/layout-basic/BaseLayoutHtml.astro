---
/**
 * @component BaseLayoutHtml
 * @description BaseLayout 的 HTML 结构子组件，处理完整的 HTML 文档结构
 * @internal 仅内部使用，不对外导出
 */

import BaseLayoutBody from './Body.astro';
import BaseLayoutHead from './Head.astro';

export interface Props {
    /** 页面标题 */
    title: string;
    /** 页面描述 */
    description?: string;
    /** 页面关键词 */
    keywords?: string;
    /** 页面作者 */
    author?: string;
    /** 页面语言 */
    lang?: string;
    /** 主题 */
    theme?: string;
    /** 是否包含 viewport meta 标签 */
    viewport?: boolean;
    /** 自定义样式 */
    customStyles?: string;
    /** 自定义头部内容 */
    /** 网站图标 */
    favicon?: any;
    /** body 的 CSS 类名 */
    bodyClasses?: string;
    /** 类名列表 */
    classList?: any;
    /** 是否只渲染 body 部分 */
    bodyOnly?: boolean;
    /** 是否启用 Astro ClientRouter */
    enableClientRouter?: boolean;
}

const {
    title,
    description = '',
    keywords = '',
    author = '',
    lang = 'zh-CN',
    theme,
    viewport = true,
    customStyles = '',
    favicon,
    bodyClasses = '',
    classList,
    bodyOnly = false,
    enableClientRouter = true,
} = Astro.props;
---

{
    bodyOnly ? (
        <BaseLayoutBody
            bodyClasses={bodyClasses}
            classList={classList}
            bodyOnly={bodyOnly}>
            <slot />
        </BaseLayoutBody>
    ) : (
        <html lang={lang} data-theme={theme || undefined}>
            <BaseLayoutHead
                title={title}
                description={description}
                keywords={keywords}
                author={author}
                lang={lang}
                viewport={viewport}
                customStyles={customStyles}
                favicon={favicon}
                enableClientRouter={enableClientRouter}>
                <slot name="head" slot="head" />
            </BaseLayoutHead>
            <BaseLayoutBody
                bodyClasses={bodyClasses}
                classList={classList}
                bodyOnly={bodyOnly}>
                <slot />
            </BaseLayoutBody>
        </html>
    )
}
