---

/**
 * @component Contact
 *
 * @description
 * Contact 组件用于展示企业或个人的联系信息，支持多种联系方式（邮件、电话、地址）和社交媒体链接。
 * 组件设计简洁专业，适合在企业网站的联系页面、页脚或关于我们页面中使用。
 * 现在基于 Card 组件重构，提供更好的动画效果和一致性。
 *
 * @usage
 * 基本用法：
 * ```astro
 * <Contact
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 *   address="123 Business St, City, State 12345"
 * />
 * ```
 *
 * 带社交媒体链接：
 * ```astro
 * <Contact
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 *   address="123 Business St, City, State 12345"
 *   github="https://github.com/company"
 *   twitter="https://twitter.com/company"
 *   facebook="https://facebook.com/company"
 * />
 * ```
 *
 * 带标题和描述：
 * ```astro
 * <Contact
 *   title="联系我们"
 *   description="欢迎随时与我们取得联系"
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 * />
 * ```
 *
 * 紧凑模式：
 * ```astro
 * <Contact
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 *   compact
 * />
 * ```
 *
 * 自定义背景色：
 * ```astro
 * <Contact
 *   title="联系我们"
 *   description="欢迎随时与我们取得联系"
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 *   background="primary/10"
 * />
 * ```
 *
 * 添加微信和 WhatsApp 二维码：
 * ```astro
 * <Contact
 *   title="联系我们"
 *   description="欢迎随时与我们取得联系"
 *   email="contact@company.com"
 *   phone="+1 (555) 123-4567"
 *   wechatQR="/images/wechat-qr.png"
 *   whatsappQR="/images/whatsapp-qr.png"
 * />
 * ```
 *
 * 使用本地图片作为二维码：
 * ```astro
 * import wechatQR from '/images/wechat-qr.png';
 * import whatsappQR from '/images/whatsapp-qr.png';
 * <Contact
 *   title="联系我们"
 *   email="contact@company.com"
 *   wechatQR={wechatQR}
 *   whatsappQR={whatsappQR}
 * />
 * ```
 *
 *
 * @props
 * @param {string} [address] - 地址信息
 * @param {BackgroundColor} [background] - 背景色类型，支持所有预设背景色和透明度变体
 * @param {string} [class] - 自定义CSS类，可用于覆盖默认样式
 * @param {boolean} [compact] - 是否使用紧凑模式
 * @param {string} [description] - 联系信息描述
 * @param {string} [email] - 电子邮件地址
 * @param {string} [facebook] - Facebook链接
 * @param {string} [github] - GitHub链接
 * @param {string} [linkedin] - LinkedIn链接
 * @param {string} [phone] - 电话号码
 * @param {string} [title] - 联系信息标题
 * @param {string} [twitter] - Twitter链接
 * @param {string} [website] - 网站链接
 * @param {ImageSource} [wechatQR] - 微信二维码图片源，支持本地图片或远程URL
 * @param {ImageSource} [whatsappQR] - WhatsApp 二维码图片源，支持本地图片或远程URL
 *
 * @slots
 * @slot default - 额外的联系信息内容
 */

import Card from '../card/Card.astro';
import AddressItem from './AddressItem.astro';
import { getContactCombinedClasses } from './class';
import EmailItem from './EmailItem.astro';
import PhoneItem from './PhoneItem.astro';
import type { ContactProps } from './props';
import SocialMediaItem from './SocialMediaItem.astro';

const {
    address,
    background = 'base-100',
    compact,
    description,
    email,
    facebook,
    github,
    linkedin,
    phone,
    title,
    twitter,
    website,
    wechatQR,
    whatsappQR,
} = Astro.props as ContactProps;

// 获取样式类
const customClasses = getContactCombinedClasses(Astro.props as ContactProps);
---

<Card
    title={title}
    subtitle={description}
    compact={compact}
    background={background}
    padding="none"
    class={customClasses}>
    <div class="cosy:space-y-0 cosy:flex cosy:flex-col">
        {address && <AddressItem address={address} />}

        {email && <EmailItem email={email} />}

        {phone && <PhoneItem phone={phone} />}
    </div>

    {
        Astro.slots.has('default') && (
            <div class="cosy:mt-4">
                <slot />
            </div>
        )
    }

    {
        (github ||
            twitter ||
            facebook ||
            linkedin ||
            wechatQR ||
            whatsappQR) && (
            <SocialMediaItem
                github={github}
                twitter={twitter}
                facebook={facebook}
                linkedin={linkedin}
                wechatQR={wechatQR}
                whatsappQR={whatsappQR}
            />
        )
    }
</Card>
