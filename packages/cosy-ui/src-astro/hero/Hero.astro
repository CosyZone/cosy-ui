---
/**
 * @component Hero
 *
 * @description
 * Hero 组件是一个全屏的展示区域，通常用于网站的首页或重要页面的顶部。
 * 它提供了一个引人注目的视觉区域，可以包含标题、描述、图片和行动按钮。
 *
 * @design
 * 设计理念：
 * 1. 视觉冲击力 - 全屏展示，吸引用户注意
 * 2. 内容聚焦 - 清晰地传达核心信息
 * 3. 引导行动 - 通过链接按钮引导用户进行下一步操作
 * 4. 灵活布局 - 支持图片、标题、描述和自定义内容
 *
 * @usage
 * 基本用法：
 * ```astro
 * <Hero
 *   title="欢迎使用我们的产品"
 *   description="这是一个简短的描述，介绍产品的主要特点和价值。"
 *   links={[
 *     { text: "开始使用", href: "/getting-started" },
 *     { text: "了解更多", href: "/about" }
 *   ]}
 * />
 * ```
 *
 * 带图片的用法（图片在右侧，字符串 URL）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   image={{ src: "/images/product.png", alt: "产品图片" }}
 *   imagePosition="right"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带图片的用法（图片在右侧，导入资源）：
 * ```astro
 * ---
 * import productImg from '../assets/product.png';
 * ---
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   image={{ src: productImg, alt: "产品图片" }}
 *   imagePosition="right"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带图片的用法（图片在左侧）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   image={{ src: "/images/product.png", alt: "产品图片" }}
 *   imagePosition="left"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带图片的用法（图片在顶部）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   image={{ src: "/images/product.png", alt: "产品图片" }}
 *   imagePosition="top"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带图片的用法（图片在底部）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   image={{ src: "/images/product.png", alt: "产品图片" }}
 *   imagePosition="bottom"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带背景图片的用法（字符串 URL）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage="/images/hero-bg.jpg"
 *   backgroundOverlay="dark"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 毛玻璃效果（推荐用于复杂背景）：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage="/images/complex-bg.jpg"
 *   glassmorphism={true}
 *   textBackground="glass"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 实心背景毛玻璃效果：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage="/images/hero-bg.jpg"
 *   glassmorphism={true}
 *   textBackground="solid"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带背景图片的用法（导入资源）：
 * ```astro
 * ---
 * import heroBg from '../assets/hero-bg.jpg';
 * ---
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage={heroBg}
 *   backgroundOverlay="dark"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带渐变背景遮罩的背景图片：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage="/images/hero-bg.jpg"
 *   backgroundOverlay="gradient"
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 自定义遮罩不透明度：
 * ```astro
 * <Hero
 *   title="产品展示"
 *   description="查看我们的最新产品。"
 *   backgroundImage="/images/hero-bg.jpg"
 *   backgroundOverlay="dark"
 *   overlayOpacity={0.5}
 *   links={[
 *     { text: "立即购买", href: "/buy" }
 *   ]}
 * />
 * ```
 *
 * 带自定义内容的用法：
 * ```astro
 * <Hero
 *   title="交互式演示"
 *   description="尝试我们的交互式演示。"
 *   links={[
 *     { text: "查看文档", href: "/docs" }
 *   ]}
 * >
 *   <div slot="app">
 *     <InteractiveDemo />
 *   </div>
 * </Hero>
 * ```
 *
 * @props
 * @prop {string} [align="center"] - 内容对齐方式，可选值："center", "left", "right"
 * @prop {BackgroundColor} [background="gradient"] - 背景色类型，支持所有预设背景色和透明度变体，以及渐变色背景
 * @prop {string | ImageMetadata} [backgroundImage] - 背景图片的URL或导入的图片资源
 * @prop {string} [backgroundOverlay="none"] - 背景图片上的遮罩，可选值："none", "light", "dark", "primary", "gradient"
 * @prop {string} description - 标题下方的描述文本
 * @prop {Object} [image] - 可选的图片配置
 * @prop {string | ImageMetadata} image.src - 图片的源地址或导入的图片资源
 * @prop {string} image.alt - 图片的替代文本
 * @prop {string} [imagePosition="right"] - 图片位置，可选值："right", "left", "top", "bottom"
 * @prop {Array<Link>} links - 链接按钮数组
 * @prop {string} links[].text - 链接按钮的文本
 * @prop {string} links[].href - 链接按钮的目标地址
 * @prop {string} links[].variant - 链接按钮的变体，可选值："primary", "secondary", "accent", "info", "success", "warning", "error"
 * @prop {number} [overlayOpacity=0.7] - 遮罩的不透明度，可选值：0-1之间的数字
 * @prop {boolean} [glassmorphism=true] - 是否启用毛玻璃效果，为文字区域添加半透明背景
 * @prop {string} [textBackground="glass"] - 文字区域背景类型，可选值："none", "glass", "solid", "gradient"
 * @prop {string} title - Hero 区域的主标题
 */

import '../../style.ts';
import type { HeroProps } from './hero.ts';
import Container from '../container/Container.astro';
import HeroOverlay from './HeroOverlay.astro';
import HeroContent from './HeroContent.astro';
import { cn } from '../../src/class';

const {
    title,
    description,
    image,
    links = [],
    background = 'gradient',
    align = 'center',
    imagePosition = 'right',
    backgroundImage,
    backgroundOverlay = 'none',
    overlayOpacity = 0.7,
    glassmorphism = true,
    textBackground = 'glass',
} = Astro.props as HeroProps;

// 容器类
const containerClass = cn()
    .add('cosy:hero', 'cosy:min-h-screen')
    .w('full')
    .relative()
    .build();
---

<Container
    class={containerClass}
    background={background}
    backgroundImage={backgroundImage}
    height="screen"
    width="full"
    padding="none"
    centered={false}
    ignore-heading>
    {
        backgroundImage && (
            <HeroOverlay
                backgroundOverlay={backgroundOverlay}
                overlayOpacity={overlayOpacity}
            />
        )
    }

    <HeroContent
        title={title}
        description={description}
        image={image}
        links={links}
        align={align}
        imagePosition={imagePosition}
        glassmorphism={glassmorphism}
        textBackground={textBackground}
        hasBackgroundImage={!!backgroundImage}
        backgroundOverlay={backgroundOverlay}>
        <slot name="app" slot="app" />
    </HeroContent>
</Container>
