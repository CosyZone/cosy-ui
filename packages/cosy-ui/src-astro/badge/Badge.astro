---
/**
 * @component Badge
 *
 * @description
 * Badge 组件用于突出显示少量信息，如标签、状态或计数。
 *
 * @usage
 * 基本用法：
 * ```astro
 * <Badge>默认</Badge>
 * <Badge variant="primary">Primary</Badge>
 * ```
 *
 * 不同尺寸：
 * ```astro
 * <Badge size="xs">超小</Badge>
 * <Badge size="sm">小</Badge>
 * <Badge size="md">中</Badge>
 * <Badge size="lg">大</Badge>
 * ```
 *
 * 描边样式：
 * ```astro
 * <Badge outline>描边样式</Badge>
 * <Badge variant="primary" outline>主要描边</Badge>
 * ```
 *
 * @props
 * @prop {string} [class] - 自定义 CSS 类名，用于覆盖默认样式
 * @prop {boolean} [outline=false] - 徽章是否为描边样式，设置为 true 时显示为描边风格
 * @prop {('xs'|'sm'|'md'|'lg')} [size] - 徽章的尺寸，支持 xs、sm、md、lg 四种尺寸
 * @prop {('primary'|'secondary'|'accent'|'ghost'|'info'|'success'|'warning'|'error')} [variant] - 徽章的颜色变体，支持多种预设颜色主题
 *
 * @slots
 * @slot default - 徽章内容，支持任意文本内容
 */
import '../../style.ts';

interface Props {
  variant?:
    | 'primary'
    | 'secondary'
    | 'accent'
    | 'ghost'
    | 'info'
    | 'success'
    | 'warning'
    | 'error';
  size?: 'xs' | 'sm' | 'md' | 'lg';
  outline?: boolean;
  class?: string;
}

const { variant, size, outline = false, class: className } = Astro.props;

function getVariantClass(variant: Props['variant']) {
  if (variant === 'primary') return 'cosy:badge-primary';
  if (variant === 'secondary') return 'cosy:badge-secondary';
  if (variant === 'accent') return 'cosy:badge-accent';
  if (variant === 'ghost') return 'cosy:badge-ghost';
  if (variant === 'info') return 'cosy:badge-info';
  if (variant === 'success') return 'cosy:badge-success';
  if (variant === 'warning') return 'cosy:badge-warning';
  if (variant === 'error') return 'cosy:badge-error';
  return '';
}

function getSizeClass(size: Props['size']) {
  if (size === 'xs') return 'cosy:badge-xs';
  if (size === 'sm') return 'cosy:badge-sm';
  if (size === 'md') return 'cosy:badge-md';
  if (size === 'lg') return 'cosy:badge-lg';
  return '';
}
---

<div
  class:list={[
    'cosy:badge',
    getVariantClass(variant),
    getSizeClass(size),
    outline ? 'cosy:badge-outline' : '',
    className,
  ]}>
  <slot />
</div>
