---
/**
 * @component FooterLegalNavigation
 * @description Footer 的法律导航子组件，包含服务条款、隐私政策等链接
 * @internal 供 FooterNavigation 内部使用
 */

import FooterSection from './FooterSection.astro';
import type { ILegalInfo } from './types';

export interface Props {
  /** 法律信息 */
  legalInfo?: ILegalInfo;
  /** 文本获取函数 */
  t: (key: string) => string;
}

const { legalInfo, t } = Astro.props as Props;

// 检查是否有任何法律相关的链接
const hasLegalLinks =
  legalInfo && (legalInfo.termsLink || legalInfo.privacyLink);
---

{
  hasLegalLinks && (
    <FooterSection
      title={t('legal')}
      links={[
        { name: t('terms'), href: legalInfo?.termsLink ?? '' },
        { name: t('privacy'), href: legalInfo?.privacyLink ?? '' },
      ].filter((link) => link.href)}
    />
  )
}
