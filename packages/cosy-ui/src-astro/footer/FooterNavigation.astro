---

/**
 * @component FooterNavigation
 * @description Footer 的导航区域子组件，包含产品、友情链接、关于、资源、法律等导航
 * @internal 供 Footer 内部使用
 */

import { Container } from '../../index-astro';
import { cn } from '../../src/class';
import type {
    IAboutInfo,
    IContactInfo,
    ILegalInfo,
    IResourcesInfo,
} from '../../src/components/footer/types';
import type { IProduct } from '../types/product';
import FooterAboutNavigation from './FooterAboutNavigation.astro';
import FooterContactInfo from './FooterContactInfo.astro';
import FooterLegalNavigation from './FooterLegalNavigation.astro';
import FooterResourcesNavigation from './FooterResourcesNavigation.astro';
import FooterSection from './FooterSection.astro';

export interface Props {
    /** 产品链接 */
    products?: IProduct[];
    /** 友情链接 */
    friendlyLinks?: IProduct[];
    /** 关于信息 */
    aboutInfo?: IAboutInfo;
    /** 资源信息 */
    resourcesInfo?: IResourcesInfo;
    /** 联系方式信息 */
    contactInfo?: IContactInfo;
    /** 法律信息 */
    legalInfo?: ILegalInfo;
    /** 文本获取函数 */
    t: (key: string) => string;
}

const {
    products = [],
    friendlyLinks = [],
    aboutInfo,
    resourcesInfo,
    contactInfo,
    legalInfo,
    t,
} = Astro.props as Props;

// 使用 classBuilder 构建导航容器类名
const navigationClass = cn()
    .add('cosy:h-full', 'cosy:mx-auto', 'cosy:text-center')
    .add('cosy:flex-col', 'cosy:justify-between')
    .items('center')
    .add('cosy:md:flex-row', 'cosy:md:justify-center', 'cosy:md:items-start')
    .build();
---

<Container
    aria-label="Footer Navigation"
    flex="col"
    gap="lg"
    justify="center"
    padding="none"
    width="full"
    class={navigationClass}>
    {/* 产品导航 */}
    {
        products.length > 0 && (
            <FooterSection title={t('products')} links={products} />
        )
    }

    {/* 友情链接导航 */}
    {
        friendlyLinks.length > 0 && (
            <FooterSection title={t('friendlyLinks')} links={friendlyLinks} />
        )
    }

    {/* 关于导航 */}
    <FooterAboutNavigation aboutInfo={aboutInfo} t={t} />

    {/* 资源导航 */}
    <FooterResourcesNavigation resourcesInfo={resourcesInfo} t={t} />

    {/* 法律导航 */}
    <FooterLegalNavigation legalInfo={legalInfo} t={t} />

    {/* 联系方式信息 */}
    <FooterContactInfo contactInfo={contactInfo} t={t} />
</Container>
