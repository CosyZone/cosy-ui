---
/**
 * ExplicitHeightAspectRatioBox 组件
 *
 * 用于处理具有明确高度的宽高比容器
 * 根据 fit 模式（contain/cover）计算合适的宽度
 */
import type { RoundedSize } from "../../src/common/rounded";
import { roundedClasses } from "../../src/common";

export interface Props {
	aspectRatio: number;
	fit: "contain" | "cover";
	rounded: RoundedSize;
}

const { aspectRatio, fit, rounded } = Astro.props as Props;
---

<div class="cosy:absolute cosy:inset-0 cosy:grid cosy:place-items-center">
    <div
        style={`aspect-ratio: ${aspectRatio}; width: ${fit === 'contain' ? `min(100cqw, calc(100cqh * ${aspectRatio}))` : `max(100cqw, calc(100cqh * ${aspectRatio}))`}; height: auto;`}>
        <div class="cosy:relative cosy:w-full cosy:h-full">
            <slot />
        </div>
    </div>
</div>
