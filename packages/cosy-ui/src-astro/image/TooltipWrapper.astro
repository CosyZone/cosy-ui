---



/**
 * @component ImageTooltipWrapper
 * @description 图片 tooltip 包装器，紧贴图片显示 tooltip
 */

interface Props {
	tooltip?: string;
	tooltipPlacement?: "top" | "bottom" | "left" | "right";
	tooltipColor?:
		| "neutral"
		| "primary"
		| "secondary"
		| "accent"
		| "info"
		| "success"
		| "warning"
		| "error";
	tooltipOpen?: boolean;
}

const {
	tooltip,
	tooltipPlacement = "top",
	tooltipColor = "neutral",
	tooltipOpen = false,
} = Astro.props;

const tooltipPlacementClasses = {
	top: "cosy:tooltip cosy:tooltip-top cosy:no-animation",
	bottom: "cosy:tooltip cosy:tooltip-bottom cosy:no-animation",
	left: "cosy:tooltip cosy:tooltip-left cosy:no-animation",
	right: "cosy:tooltip cosy:tooltip-right cosy:no-animation",
};

const tooltipColorClasses = {
	neutral: "cosy:tooltip-neutral",
	primary: "cosy:tooltip-primary",
	secondary: "cosy:tooltip-secondary",
	accent: "cosy:tooltip-accent",
	info: "cosy:tooltip-info",
	success: "cosy:tooltip-success",
	warning: "cosy:tooltip-warning",
	error: "cosy:tooltip-error",
};

const tooltipClasses = [
	tooltip ? tooltipPlacementClasses[tooltipPlacement] : "",
	tooltip ? tooltipColorClasses[tooltipColor] : "",
	tooltipOpen ? "cosy:tooltip-open" : "",
]
	.filter(Boolean)
	.join(" ");
---

<div class={tooltipClasses} {...tooltip && { 'data-tip': tooltip }}>
  <slot />
</div>
