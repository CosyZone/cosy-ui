---
/**
 * @component FeatureCard
 * @description 苹果风格的特性卡片组件，用于展示单个特性
 * @example
 * <FeatureCard
 *   title="性能和电池续航"
 *   description="跑得快,跑得久。"
 *   background="linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)"
 *   image="https://example.com/image.jpg"
 *   textColor="white"
 * />
 */

import Image from '../image/Image.astro';
import type { ImageSource } from '../image/image.ts';

export interface Props {
  title: string;
  description: string;
  background: string;
  image?: ImageSource;
  textColor?: string;
  class?: string;
}

const {
  title,
  description,
  background,
  image,
  textColor = 'dark',
  class: className = '',
} = Astro.props;
---

<div
  class={`cosy:flex-shrink-0 cosy:relative cosy:h-[32rem] cosy:w-96 cosy:flex cosy:flex-col cosy:justify-center cosy:items-center cosy:px-6 cosy:rounded-2xl cosy:cursor-pointer cosy:transition-all cosy:duration-300 cosy:ease-in-out cosy:hover:scale-105 cosy:hover:shadow-2xl ${className}`}
  style={`background: ${background};`}>
  <!-- 文字内容 -->
  <div class="cosy:text-center cosy:mb-4 cosy:mt-8">
    <h2
      class={`cosy:text-lg cosy:lg:text-xl cosy:font-light cosy:mb-2 ${textColor === 'white' ? 'cosy:text-white' : 'cosy:text-gray-900'}`}>
      {title}
    </h2>
    <p
      class={`cosy:text-2xl cosy:lg:text-3xl cosy:font-thin cosy:leading-tight ${textColor === 'white' ? 'cosy:text-white' : 'cosy:text-gray-900'}`}>
      {description}
    </p>
  </div>

  <!-- 图片内容 -->
  {
    image && (
      <div class="cosy:flex cosy:justify-center cosy:items-center cosy:flex-1 cosy:min-h-0">
        <div class="cosy:relative cosy:w-full cosy:h-full cosy:max-w-sm cosy:max-h-80 cosy:rounded-2xl cosy:overflow-hidden cosy:shadow-2xl">
          <Image
            src={image}
            alt={title}
            rounded="2xl"
            shadow="xl"
            objectFit="cover"
          />
        </div>
      </div>
    )
  }
</div>
